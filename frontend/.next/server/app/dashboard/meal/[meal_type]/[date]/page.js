(()=>{var e={};e.id=5458,e.ids=[5458],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},6437:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>f,tree:()=>o}),s(72199),s(96162),s(12975),s(7629),s(12523);var t=s(23191),a=s(88716),n=s(37922),l=s.n(n),i=s(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(r,d);let o=["",{children:["dashboard",{children:["meal",{children:["[meal_type]",{children:["[date]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,72199)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/meal/[meal_type]/[date]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96162)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,12975)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/meal/[meal_type]/[date]/page.tsx"],m="/dashboard/meal/[meal_type]/[date]/page",u={require:s,loadChunk:()=>Promise.resolve()},f=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/meal/[meal_type]/[date]/page",pathname:"/dashboard/meal/[meal_type]/[date]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},70166:(e,r,s)=>{let t={"19cb0e72dbbcbcf49c393ba7e48690d825ebad7c":()=>Promise.resolve().then(s.bind(s,84291)).then(e=>e.searchFatsecretFoods),da73c8e80e35425672d08afa96053fc232e748c8:()=>Promise.resolve().then(s.bind(s,84291)).then(e=>e.$$ACTION_0),"17ee4cb4022629faba02605e0e8af8a8c9645713":()=>Promise.resolve().then(s.bind(s,2449)).then(e=>e.$$ACTION_0),ed632e20977b91e6ea402bab649de27090a0ee47:()=>Promise.resolve().then(s.bind(s,2449)).then(e=>e.fetchCustomFoods),"367dc209dd2fdf097b31f5b71e50ba108ae3f123":()=>Promise.resolve().then(s.bind(s,13698)).then(e=>e.fetchFoodsHistory),cb9186e00c5be01753f62155531b4e6cef15b991:()=>Promise.resolve().then(s.bind(s,13698)).then(e=>e.$$ACTION_0),"3a5f0154e89d11624aa90c0eb5f71251b7c55474":()=>Promise.resolve().then(s.bind(s,4015)).then(e=>e.fetchOftenFoods),ca35ef09cdece4d2343f2cfcf478dfeccc18ae9d:()=>Promise.resolve().then(s.bind(s,4015)).then(e=>e.$$ACTION_0),"6c52b8f3f595c9d6ea755ce2e952a92d96ee33b5":()=>Promise.resolve().then(s.bind(s,97217)).then(e=>e.$$ACTION_0),"86a6695be0bfe7cbf23795106db8997c1ed9aec4":()=>Promise.resolve().then(s.bind(s,97217)).then(e=>e.fetchMealSetList),"6a87c37439f4089f529f7fabd394372ee953399e":()=>Promise.resolve().then(s.bind(s,19968)).then(e=>e.createCustomFood),ebc0e3185c11a268e46a358d1ed67a087a3eb887:()=>Promise.resolve().then(s.bind(s,19968)).then(e=>e.$$ACTION_0),"0da2dde8e1dec082a8d241ac927be311e1678626":()=>Promise.resolve().then(s.bind(s,21093)).then(e=>e.createMealSet),"492a457f30e687c4bb2cefa88f2314a34d0d0e1d":()=>Promise.resolve().then(s.bind(s,21093)).then(e=>e.$$ACTION_0),"7cb9d2694cd108349d908a39f53289ef9444227a":()=>Promise.resolve().then(s.bind(s,97187)).then(e=>e.$$ACTION_0),c0abb00a59556c65ce05db222d997708cb5100e6:()=>Promise.resolve().then(s.bind(s,97187)).then(e=>e.toggleOftenFood),"16c0ed9660f48207bf5371167b9fd9573d2b5d52":()=>Promise.resolve().then(s.bind(s,99598)).then(e=>e.fetchOftenFoodCheck),"59c0d9fbcd4723978ede36f3868a81adf2182b66":()=>Promise.resolve().then(s.bind(s,99598)).then(e=>e.$$ACTION_0),"82dde3b48fab94c911a9f98f3bb8c59a069ede72":()=>Promise.resolve().then(s.bind(s,28317)).then(e=>e.deleteFood),ce576565f535bcbad4a930e5f6814907ceefd72a:()=>Promise.resolve().then(s.bind(s,28317)).then(e=>e.$$ACTION_0),d0736e4f387dbbf78538ee4553577f2c7f391049:()=>Promise.resolve().then(s.bind(s,91952)).then(e=>e.$$ACTION_0),fad9de3b23c5d88a1bcb45ade664b3ffae692138:()=>Promise.resolve().then(s.bind(s,91952)).then(e=>e.createMealWithMealSet),"27f90133d70450b99ed179ddee9da2d5994ad85f":()=>Promise.resolve().then(s.bind(s,38386)).then(e=>e.deleteMealSet),c027b56e18a0e9daec2c20ea5f7bc4027b4369a8:()=>Promise.resolve().then(s.bind(s,38386)).then(e=>e.$$ACTION_0),"813f4d442d2c9b92710ddf1212296598abc28c6a":()=>Promise.resolve().then(s.bind(s,86489)).then(e=>e.registerMeal),a1666b55b2fc94ed021a59ca290beb7092675d72:()=>Promise.resolve().then(s.bind(s,86489)).then(e=>e.$$ACTION_0),be89e7bb6617af0a23ae48cefc188e6cf334430c:()=>Promise.resolve().then(s.bind(s,57076)).then(e=>e.fetchMeals),f1eedbe3c169d127f552e5c5d8c985e931af6b27:()=>Promise.resolve().then(s.bind(s,57076)).then(e=>e.$$ACTION_0),"3e8279eb3363b8a4a3ff00650dc3502ae373bfaa":()=>Promise.resolve().then(s.bind(s,30028)).then(e=>e.$$ACTION_0),"6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e":()=>Promise.resolve().then(s.bind(s,30028)).then(e=>e.deleteMeal),"7c2574a7734e2d3d6789ab1bad14e46f8e613597":()=>Promise.resolve().then(s.bind(s,67315)).then(e=>e.$$ACTION_0),"8a42b8b540243bc7fd7247cb2280a07c257963ae":()=>Promise.resolve().then(s.bind(s,67315)).then(e=>e.createMealWithLatest),"28a819062975c26b1cb5f64dd90355706540512b":()=>Promise.resolve().then(s.bind(s,26956)).then(e=>e.fetchLatestMeals),b7d9f3342a93717ae383fb09f599a8777b2bc2e6:()=>Promise.resolve().then(s.bind(s,26956)).then(e=>e.$$ACTION_0),"6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081":()=>Promise.resolve().then(s.bind(s,26210)).then(e=>e.updateMeal),"75e4cf5a8d25542c8dba192139597868e4624336":()=>Promise.resolve().then(s.bind(s,26210)).then(e=>e.$$ACTION_0),e00845c7b15f0a1c05269c75f8f7898eaadb5328:()=>Promise.resolve().then(s.bind(s,19525)).then(e=>e.fetchDailyCalsNutrients),f4997aa41f15a3adef6f481a6ffacaa85d87edf1:()=>Promise.resolve().then(s.bind(s,19525)).then(e=>e.$$ACTION_0),"3e793398c34ccf0e9a41e8b783f764896bcc54b8":()=>Promise.resolve().then(s.bind(s,17346)).then(e=>e.$$ACTION_0),"78e50616bcc9f3a4ab9f0d6b75948676d37239cc":()=>Promise.resolve().then(s.bind(s,17346)).then(e=>e.fetchLicenseType)};async function a(e,...r){return(await t[e]()).apply(null,r)}e.exports={"19cb0e72dbbcbcf49c393ba7e48690d825ebad7c":a.bind(null,"19cb0e72dbbcbcf49c393ba7e48690d825ebad7c"),da73c8e80e35425672d08afa96053fc232e748c8:a.bind(null,"da73c8e80e35425672d08afa96053fc232e748c8"),"17ee4cb4022629faba02605e0e8af8a8c9645713":a.bind(null,"17ee4cb4022629faba02605e0e8af8a8c9645713"),ed632e20977b91e6ea402bab649de27090a0ee47:a.bind(null,"ed632e20977b91e6ea402bab649de27090a0ee47"),"367dc209dd2fdf097b31f5b71e50ba108ae3f123":a.bind(null,"367dc209dd2fdf097b31f5b71e50ba108ae3f123"),cb9186e00c5be01753f62155531b4e6cef15b991:a.bind(null,"cb9186e00c5be01753f62155531b4e6cef15b991"),"3a5f0154e89d11624aa90c0eb5f71251b7c55474":a.bind(null,"3a5f0154e89d11624aa90c0eb5f71251b7c55474"),ca35ef09cdece4d2343f2cfcf478dfeccc18ae9d:a.bind(null,"ca35ef09cdece4d2343f2cfcf478dfeccc18ae9d"),"6c52b8f3f595c9d6ea755ce2e952a92d96ee33b5":a.bind(null,"6c52b8f3f595c9d6ea755ce2e952a92d96ee33b5"),"86a6695be0bfe7cbf23795106db8997c1ed9aec4":a.bind(null,"86a6695be0bfe7cbf23795106db8997c1ed9aec4"),"6a87c37439f4089f529f7fabd394372ee953399e":a.bind(null,"6a87c37439f4089f529f7fabd394372ee953399e"),ebc0e3185c11a268e46a358d1ed67a087a3eb887:a.bind(null,"ebc0e3185c11a268e46a358d1ed67a087a3eb887"),"0da2dde8e1dec082a8d241ac927be311e1678626":a.bind(null,"0da2dde8e1dec082a8d241ac927be311e1678626"),"492a457f30e687c4bb2cefa88f2314a34d0d0e1d":a.bind(null,"492a457f30e687c4bb2cefa88f2314a34d0d0e1d"),"7cb9d2694cd108349d908a39f53289ef9444227a":a.bind(null,"7cb9d2694cd108349d908a39f53289ef9444227a"),c0abb00a59556c65ce05db222d997708cb5100e6:a.bind(null,"c0abb00a59556c65ce05db222d997708cb5100e6"),"16c0ed9660f48207bf5371167b9fd9573d2b5d52":a.bind(null,"16c0ed9660f48207bf5371167b9fd9573d2b5d52"),"59c0d9fbcd4723978ede36f3868a81adf2182b66":a.bind(null,"59c0d9fbcd4723978ede36f3868a81adf2182b66"),"82dde3b48fab94c911a9f98f3bb8c59a069ede72":a.bind(null,"82dde3b48fab94c911a9f98f3bb8c59a069ede72"),ce576565f535bcbad4a930e5f6814907ceefd72a:a.bind(null,"ce576565f535bcbad4a930e5f6814907ceefd72a"),d0736e4f387dbbf78538ee4553577f2c7f391049:a.bind(null,"d0736e4f387dbbf78538ee4553577f2c7f391049"),fad9de3b23c5d88a1bcb45ade664b3ffae692138:a.bind(null,"fad9de3b23c5d88a1bcb45ade664b3ffae692138"),"27f90133d70450b99ed179ddee9da2d5994ad85f":a.bind(null,"27f90133d70450b99ed179ddee9da2d5994ad85f"),c027b56e18a0e9daec2c20ea5f7bc4027b4369a8:a.bind(null,"c027b56e18a0e9daec2c20ea5f7bc4027b4369a8"),"813f4d442d2c9b92710ddf1212296598abc28c6a":a.bind(null,"813f4d442d2c9b92710ddf1212296598abc28c6a"),a1666b55b2fc94ed021a59ca290beb7092675d72:a.bind(null,"a1666b55b2fc94ed021a59ca290beb7092675d72"),be89e7bb6617af0a23ae48cefc188e6cf334430c:a.bind(null,"be89e7bb6617af0a23ae48cefc188e6cf334430c"),f1eedbe3c169d127f552e5c5d8c985e931af6b27:a.bind(null,"f1eedbe3c169d127f552e5c5d8c985e931af6b27"),"3e8279eb3363b8a4a3ff00650dc3502ae373bfaa":a.bind(null,"3e8279eb3363b8a4a3ff00650dc3502ae373bfaa"),"6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e":a.bind(null,"6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e"),"7c2574a7734e2d3d6789ab1bad14e46f8e613597":a.bind(null,"7c2574a7734e2d3d6789ab1bad14e46f8e613597"),"8a42b8b540243bc7fd7247cb2280a07c257963ae":a.bind(null,"8a42b8b540243bc7fd7247cb2280a07c257963ae"),"28a819062975c26b1cb5f64dd90355706540512b":a.bind(null,"28a819062975c26b1cb5f64dd90355706540512b"),b7d9f3342a93717ae383fb09f599a8777b2bc2e6:a.bind(null,"b7d9f3342a93717ae383fb09f599a8777b2bc2e6"),"6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081":a.bind(null,"6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081"),"75e4cf5a8d25542c8dba192139597868e4624336":a.bind(null,"75e4cf5a8d25542c8dba192139597868e4624336"),e00845c7b15f0a1c05269c75f8f7898eaadb5328:a.bind(null,"e00845c7b15f0a1c05269c75f8f7898eaadb5328"),f4997aa41f15a3adef6f481a6ffacaa85d87edf1:a.bind(null,"f4997aa41f15a3adef6f481a6ffacaa85d87edf1"),"3e793398c34ccf0e9a41e8b783f764896bcc54b8":a.bind(null,"3e793398c34ccf0e9a41e8b783f764896bcc54b8"),"78e50616bcc9f3a4ab9f0d6b75948676d37239cc":a.bind(null,"78e50616bcc9f3a4ab9f0d6b75948676d37239cc")}},64574:(e,r,s)=>{Promise.resolve().then(s.bind(s,99481))},99481:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>es});var t=s(10326),a=s(45884),n=s(29319),l=s(66627),i=s(36487),d=s(92068),o=s(26061),c=s(59646),m=s(17577),u=s(35047),f=s(39530),b=s(74132),x=s(14357);s(15424);var g=s(46242),h=(0,g.$)("86a6695be0bfe7cbf23795106db8997c1ed9aec4");let p=()=>{let e=(0,u.useRouter)(),r=(0,f.TL)(),s=(0,f.CG)(e=>e.license.license),a=(0,f.CG)(e=>e.load.set_loading);(0,m.useEffect)(()=>{a&&n()},[a,r]);let n=async()=>{if(!s||"free"===s){e.push("/dashboard/premium");return}try{let e=await h();if("error"in e){r((0,b.fz)({message:e.error,type:"error"})),setTimeout(()=>r((0,b.Qu)()),3e3);return}"message"in e&&(r((0,x.wc)()),r((0,x.Td)(e.data)))}catch(e){r((0,b.fz)({message:"An error occurred.",type:"error"})),setTimeout(()=>r((0,b.Qu)()),3e3)}};return(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsxs)("button",{className:"w-[60px] h-[50px] cursor-pointer p-3 bg-gradient-to-b from-cyan-300 to-cyan-500 hover:from-cyan-400 hover:to-cyan-600 shadow-md rounded-lg flex flex-col items-center",onClick:n,children:[t.jsx("p",{className:"text-[10px] font-normal text-white shadow-text",children:" Meal"}),t.jsx("p",{className:"text-sm font-bold text-white shadow-text",children:"Set"})]}),t.jsx("span",{className:"absolute top-[-10px] right-[-10px] text-[8px] bg-gradient-to-b from-gray-200 to-gray-400 text-black px-1 py-0.5 rounded-full font-bold",children:"Premium"})]})};var v=s(41135),y=s(23703),j=s(44046),N=s(10123),_=(0,g.$)("6a87c37439f4089f529f7fabd394372ee953399e"),w=s(3062);let k=N.Ry().shape({name:N.Z_().max(30,"Name must be less than 30 characters").required("Name is required!"),cal:N.Rx().min(1,"Calories must be greater than 0").required("Calories are required!"),g_per_serving:N.Rx().nullable(),carb:N.Rx().min(0,"Value must be 0 or greater").required("Carb is required"),fat:N.Rx().min(0,"Value must be 0 or greater").required("Fat is required"),protein:N.Rx().min(0,"Value must be 0 or greater").required("Protein is required"),sugars:N.Rx().min(0,"Value must be 0 or greater").required("Sugars is required"),dietary_fiber:N.Rx().min(0,"Value must be 0 or greater").required("Dietary fiber is required"),salt:N.Rx().min(0,"Value must be 0 or greater").required("Salt is required"),sodium:N.Rx().min(0,"Value must be 0 or greater").required("Sodium is required"),potassium:N.Rx().min(0,"Value must be 0 or greater").required("Potassium is required"),calcium:N.Rx().min(0,"Value must be 0 or greater").required("Calcium is required"),magnesium:N.Rx().min(0,"Value must be 0 or greater").required("Magnesium is required"),iron:N.Rx().min(0,"Value must be 0 or greater").required("Iron is required"),zinc:N.Rx().min(0,"Value must be 0 or greater").required("Zinc is required"),vitamin_a:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin A is required"),vitamin_d:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin D is required"),vitamin_e:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin E is required"),vitamin_b1:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin B1 is required"),vitamin_b2:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin B2 is required"),vitamin_b12:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin B12 is required"),vitamin_b6:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin B6 is required"),vitamin_c:N.Rx().min(0,"Value must be 0 or greater").required("Vitamin C is required"),niacin:N.Rx().min(0,"Value must be 0 or greater").required("Niacin is required"),cholesterol:N.Rx().min(0,"Value must be 0 or greater").required("Cholesterol is required"),saturated_fat:N.Rx().min(0,"Value must be 0 or greater").required("Saturated fat is required"),polyunsaturated_fat:N.Rx().min(0,"Value must be 0 or greater").required("Polyunsaturated fat is required"),monounsaturated_fat:N.Rx().min(0,"Value must be 0 or greater").required("Monounsaturated fat is required")});function T(){let e=(0,f.TL)(),[r,s]=(0,m.useState)(!1),[a,n]=(0,m.useState)(!1),l=(0,y.TA)({initialValues:{name:"",cal:1,g_per_serving:null,carb:0,fat:0,protein:0,sugars:0,dietary_fiber:0,salt:0,sodium:0,potassium:0,calcium:0,magnesium:0,iron:0,zinc:0,vitamin_a:0,vitamin_d:0,vitamin_e:0,vitamin_b1:0,vitamin_b2:0,vitamin_b12:0,vitamin_b6:0,vitamin_c:0,niacin:0,cholesterol:0,saturated_fat:0,polyunsaturated_fat:0,monounsaturated_fat:0},validationSchema:k,onSubmit:async r=>{try{e((0,w.ly)(!0));let t=await _(r);"error"in t?(e((0,b.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,b.Qu)()),4e3)):"message"in t&&(e((0,b.fz)({message:t.message,type:"success"})),setTimeout(()=>e((0,b.Qu)()),3e3),s(!1))}catch(r){e((0,b.fz)({message:"An error occurred while creating the custom food.",type:"error"})),setTimeout(()=>e((0,b.Qu)()),3e3)}finally{e((0,w.ly)(!1))}}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{className:"flex items-center px-3 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-400 to-orange-600 rounded-md shadow hover:from-orange-500 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",onClick:()=>s(!0),children:[t.jsx(j.wEH,{className:"mr-1"}),"Create Custom Item"]}),r&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex justify-center items-center",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,t.jsxs)("div",{className:"relative z-50 bg-white rounded-lg w-full max-w-lg p-6 mx-4 my-8",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[t.jsx("h2",{className:"text-2xl font-bold leading-9 tracking-tight mb-4",children:"Create Custom Food"}),t.jsx("p",{className:"text-sm mb-2 text-red-600",children:"Note: Please ensure the nutritional information is accurate."}),(0,t.jsxs)("form",{onSubmit:l.handleSubmit,className:"h-[510px] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Name *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"text",id:"name",name:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.name&&l.errors.name}),autoComplete:"off"}),l.errors.name&&l.touched.name&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:"cal",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Calories *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:"cal",name:"cal",value:l.values.cal,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.cal&&l.errors.cal}),autoComplete:"off"}),l.errors.cal&&l.touched.cal&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.cal})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:"g_per_serving",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Grams per Serving"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:"g_per_serving",name:"g_per_serving",value:l.values.g_per_serving||"",onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.g_per_serving&&l.errors.g_per_serving}),autoComplete:"off"}),l.errors.g_per_serving&&l.touched.g_per_serving&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.g_per_serving})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:"carb",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Carbs (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:"carb",name:"carb",value:l.values.carb,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.carb&&l.errors.carb}),autoComplete:"off"}),l.errors.carb&&l.touched.carb&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.carb})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:"fat",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Fat (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:"fat",name:"fat",value:l.values.fat,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.fat&&l.errors.fat}),autoComplete:"off"}),l.errors.fat&&l.touched.fat&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.fat})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:"protein",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Protein (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:"protein",name:"protein",value:l.values.protein,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.protein&&l.errors.protein}),autoComplete:"off"}),l.errors.protein&&l.touched.protein&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors.protein})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",className:"mt-2 mb-1 text-sm font-medium text-blue-500 underline hover:text-blue-700 focus:outline-none",onClick:()=>n(!a),children:a?"Hide Other Nutrients":"Show Other Nutrients"})}),a&&t.jsx(t.Fragment,{children:["sugars","dietary_fiber","salt","sodium","potassium","calcium","magnesium","iron","zinc","vitamin_a","vitamin_d","vitamin_e","vitamin_b1","vitamin_b2","vitamin_b12","vitamin_b6","vitamin_c","niacin","cholesterol","saturated_fat","polyunsaturated_fat","monounsaturated_fat"].map(e=>(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[t.jsx("label",{htmlFor:e,className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:e.replace(/_/g," ").toUpperCase()}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"number",id:e,name:e,value:null!==l.values[e]&&void 0!==l.values[e]?l.values[e]:"",onChange:l.handleChange,onBlur:l.handleBlur,className:(0,v.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched[e]&&l.errors[e]}),autoComplete:"off"}),l.touched[e]&&l.errors[e]&&t.jsx("p",{className:"text-red-500 text-xs",children:l.errors[e]})]})]},e))}),t.jsx("section",{className:"w-full flex flex-col gap-y-3 justify-start items-end lg:items-center lg:flex-row lg:gap-y-0 lg:justify-between",children:t.jsx("button",{type:"submit",className:"flex w-full order-1 lg:order-2 lg:w-fit justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:"Create"})})]}),t.jsx("button",{className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",onClick:()=>s(!1),children:"✕"})]})]})]})}var C=s(44394);let S=()=>(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h2",{className:"text-base font-semibold",children:"Step 1: Search for Food"})}),t.jsx(i.Z,{}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"mr-1",children:t.jsx(d.Z,{})}),t.jsx("div",{className:"mr-1",children:t.jsx(o.Z,{})}),t.jsx("div",{className:"mr-1",children:t.jsx(c.Z,{})}),t.jsx("div",{className:"mr-1",children:t.jsx(p,{})})]}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"mr-1",children:t.jsx(T,{})}),t.jsx("div",{className:"mr-1",children:t.jsx(C.r,{})})]})]});var $=s(58329),P=(0,g.$)("fad9de3b23c5d88a1bcb45ade664b3ffae692138");let R=({date:e,meal_type:r,meal_set:s})=>{(0,u.useRouter)();let a=(0,f.TL)(),n=async()=>{try{a((0,w.Tr)(!0));let t=await P({date:e,meal_type:r,meal_set_id:s.meal_set_id});if("error"in t){a((0,b.fz)({message:t.error,type:"error"})),setTimeout(()=>a((0,b.Qu)()),3e3);return}"message"in t&&(a((0,b.fz)({message:t.message,type:"success"})),setTimeout(()=>a((0,b.Qu)()),4e3))}catch(e){a((0,b.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>a((0,b.Qu)()),3e3)}finally{a((0,w.Tr)(!1))}},l=s.meal_pres.reduce((e,r)=>e+(r.intake_cal||0),0);return(0,t.jsxs)("td",{className:"relative px-2 py-2 text-sm text-gray-900 truncate max-w-xs hover:text-gray-400 cursor-pointer",title:s.meal_set_name,onClick:n,children:[t.jsx("span",{className:"font-semibold",children:s.meal_set_name}),(0,t.jsxs)("span",{children:[" (Total: ",Math.round(l)," kcal)"]})]})};var F=s(94835),M=(0,g.$)("27f90133d70450b99ed179ddee9da2d5994ad85f");let A=({id:e})=>{let r=(0,f.TL)(),s=async()=>{try{r((0,w.Dv)(!0));let s=await M(e);if("error"in s){r((0,b.fz)({message:s.error,type:"error"})),setTimeout(()=>r((0,b.Qu)()),3e3);return}if("detail"in s){r((0,b.fz)({message:s.detail,type:"error"})),setTimeout(()=>r((0,b.Qu)()),3e3);return}"message"in s&&(r((0,b.fz)({message:s.message,type:"success"})),setTimeout(()=>r((0,b.Qu)()),3e3),r((0,x.Xl)()))}catch(e){r((0,b.fz)({message:"An error occurred while deleting the meal set.",type:"error"})),setTimeout(()=>r((0,b.Qu)()),3e3)}finally{r((0,w.Dv)(!1))}};return t.jsx("div",{className:"flex items-center gap-x-2 p-2 ",children:t.jsx("button",{className:"hover:text-red-800 transition",onClick:s,children:t.jsx(F.I0,{size:15})})})},q=({meal_type:e,date:r})=>{let s=(0,f.CG)(e=>e.food_meal.meal_set_list),[a,n]=(0,m.useState)(null);return t.jsx(t.Fragment,{children:s&&t.jsx("div",{className:"lg:mx-auto lg:w-full lg:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white border border-gray-300 rounded-md",children:[t.jsx("div",{className:"bg-green-100 px-4 py-2 text-left text-xs font-medium text-gray-500 rounded-t-md",children:"Select Meal Set"}),t.jsx("div",{className:"flex flex-col h-56 overflow-y-auto",children:s.length>0?t.jsx("table",{className:"min-w-full divide-y divide-gray-200",children:t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(s=>(0,t.jsxs)("tr",{className:"relative hover:bg-gray-100",onMouseEnter:()=>n(s.meal_set_id),onMouseLeave:()=>n(null),children:[t.jsx(R,{meal_set:s,date:r,meal_type:e}),t.jsx("td",{className:"px-2 py-2 text-center text-xs text-gray-900",children:t.jsx("a",{href:`/dashboard/meal-set/${s.meal_set_id}`,className:"text-blue-500 hover:underline",children:"edit"})}),t.jsx("td",{className:"px-2 py-2 text-center text-xs text-red-600",children:t.jsx(A,{id:s.meal_set_id})}),a===s.meal_set_id&&t.jsx("td",{colSpan:3,className:"absolute top-full left-0 w-1/2 bg-white border-2 border-green-500 rounded shadow-lg z-10",children:t.jsx("div",{className:"border-2 border-green-500 p-2 rounded-md bg-green-50",children:t.jsx("ul",{children:s.meal_pres.map((e,r)=>t.jsx("li",{className:"text-xs text-gray-700 truncate",children:e.food?e.food.name:e.fat_secret_food?.name},r))})})})]},s.meal_set_id))})}):t.jsx("p",{className:"text-gray-500 p-4",children:"No meal set created yet"})})]})})})},E=({date:e,meal_type:r})=>(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h2",{className:"text-base font-semibold",children:"Step 2: Select Foods for Your Meal"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx($.Z,{}),t.jsx(q,{date:e,meal_type:r})]})]});var V=(0,g.$)("813f4d442d2c9b92710ddf1212296598abc28c6a");let z=N.Ry().shape({grams:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),I={grams:null,servings:1},O=({date:e,meal_type:r})=>{(0,u.useRouter)();let s=(0,f.TL)(),a=(0,f.CG)(e=>e.food_meal?.used_food),[n,l]=(0,m.useState)(!1),[i,d]=(0,m.useState)(!1),o=(0,f.CG)(e=>e.load.custom_food_loading);(0,m.useEffect)(()=>{s((0,x.Fe)())},[o]);let c=(0,y.TA)({initialValues:I,validationSchema:z,onSubmit:async t=>{if(a)try{s((0,w.Tr)(!0)),s((0,w.yP)(!0));let n=await V({...t,food:a.id,date:e,meal_type:r});"error"in n?(s((0,b.fz)({message:n.error,type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3)):"message"in n&&(s((0,b.fz)({message:n.message,type:"success"})),setTimeout(()=>s((0,b.Qu)()),4e3),s((0,x.Fe)()))}catch(e){s((0,b.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3)}finally{s((0,w.Tr)(!1)),s((0,w.yP)(!1))}else{s((0,b.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3);return}}}),g=e=>{"custom"===e?d(!i):(c.setFieldValue("servings",e),c.setFieldValue("grams",null),l(!1))};return t.jsx(t.Fragment,{children:a&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[t.jsx("div",{className:"text-gray-700 font-medium items-start text-base",children:a.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(a.protein)," g F: ",Math.round(a.fat)," g C: ",Math.round(a.carb)," g (",Math.round(a.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:c.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[a.g_per_serving?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,v.Z)(n?"block":"hidden"),children:[t.jsx("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;c.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&c.setFieldValue("servings",null)},onBlur:c.handleBlur,value:c.values.grams??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),t.jsx("span",{className:"text-[15px]",children:" (g)"})]}),c.touched.grams&&c.errors.grams?t.jsx("div",{className:"text-red-600 text-sm",children:c.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,v.Z)(n?"hidden":"block"),children:[t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:[.25,.5,.75,1,1.5,2,3].map(e=>t.jsx("button",{type:"button",onClick:()=>g(e),className:(0,v.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",c.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[t.jsx("button",{type:"button",onClick:()=>g("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),i&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;c.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&c.setFieldValue("grams",null)},onBlur:c.handleBlur,value:c.values.servings??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),t.jsx("span",{className:"text-[15px]",children:" (servings)"})]})]}),c.touched.servings&&c.errors.servings?t.jsx("div",{className:"text-red-600 text-sm",children:c.errors.servings}):null]})]}),a.g_per_serving?t.jsx("div",{children:t.jsx("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{l(!n),n?(c.setFieldValue("grams",null),c.setFieldValue("servings",null)):(c.setFieldValue("grams",null),c.setFieldValue("servings",1),d(!1))},children:n?"Input by Servings":"Input by Grams"})}):null,t.jsx("div",{children:t.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})},Z=N.Ry().shape({grams:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),B={grams:null,servings:null},Q=({date:e,meal_type:r})=>{(0,u.useRouter)();let s=(0,f.TL)(),a=(0,f.CG)(e=>e.food_meal?.used_fatsecret_food),[n,l]=(0,m.useState)(!1),i=(0,y.TA)({initialValues:B,validationSchema:Z,onSubmit:async t=>{if(a)try{s((0,w.Tr)(!0)),s((0,w.yP)(!0));let n=await V({...t,fat_secret_food:a.id,date:e,meal_type:r});"error"in n?(s((0,b.fz)({message:n.error,type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3)):"message"in n&&(s((0,b.fz)({message:n.message,type:"success"})),setTimeout(()=>s((0,b.Qu)()),4e3),s((0,x.zo)()))}catch(e){s((0,b.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3)}finally{s((0,w.Tr)(!1)),s((0,w.yP)(!1))}else{s((0,b.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3);return}}}),d=e=>{"custom"===e?l(!n):(i.setFieldValue("servings",e),i.setFieldValue("grams",null),l(!1))};return t.jsx(t.Fragment,{children:a&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium items-start text-base",children:[a.name,a.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",a.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",a.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(a.protein)," g F: ",Math.round(a.fat)," g C: ",Math.round(a.carb)," g (",Math.round(a.cal)," kcal) / ",a.unit]})]}),(0,t.jsxs)("form",{onSubmit:i.handleSubmit,className:"space-y-6 mt-4",children:[t.jsx("div",{children:"100g"===a.unit?(0,t.jsxs)("div",{children:[t.jsx("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;i.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&i.setFieldValue("servings",null)},onBlur:i.handleBlur,value:i.values.grams??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",t.jsx("span",{className:"text-[15px]",children:" (g)"}),i.touched.grams&&i.errors.grams?t.jsx("div",{className:"text-red-600 text-sm",children:i.errors.grams}):null]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mt-2 ",children:[.25,.5,.75,1,1.5,2,3].map(e=>t.jsx("button",{type:"button",onClick:()=>d(e),className:(0,v.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",i.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[t.jsx("button",{type:"button",onClick:()=>d("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),n&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;i.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&i.setFieldValue("grams",null)},onBlur:i.handleBlur,value:i.values.servings??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",a.unit,")"]})]})]}),i.touched.servings&&i.errors.servings?t.jsx("div",{className:"text-red-600 text-sm",children:i.errors.servings}):null]})}),t.jsx("div",{children:t.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})},L=({date:e,meal_type:r})=>(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h2",{className:"text-base font-semibold",children:"Step 3: Register Your Meal"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(O,{date:e,meal_type:r}),t.jsx(Q,{date:e,meal_type:r})]})]});var D=s(72766),G=s(47258),U=s(36635),H=s(27816);let W=({date:e,meal_type:r})=>{let s=(0,f.TL)(),[a,n]=(0,m.useState)([]),l=(0,f.CG)(e=>e.load.meal_loading);(0,m.useEffect)(()=>{(async()=>{try{let t=await (0,D.x)(e,r);if("error"in t){s((0,b.fz)({message:t.error,type:"error"})),setTimeout(()=>s((0,b.Qu)()),3e3);return}"message"in t&&n(t.data)}catch(e){}})()},[l]);let i=async e=>{s((0,x.GA)(e)),(0,x.Fe)()},d=a.reduce((e,r)=>e+(r.intake_cal||0),0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"sm:mx-auto md:w-full sm:max-w-sm flex justify-between items-center",children:[t.jsx(H.Z,{date:e,meal_type:r}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"text-xs mr-2",children:[e,"  "]}),t.jsx("span",{className:"text-sm font-medium mr-2",children:r}),(0,t.jsxs)("span",{className:"text-sm font-semi-bold",children:["(Total: ",Math.round(d)," kcal)"]})]})]}),t.jsx("div",{className:"lg:mx-auto sm:w-full lg:max-w-sm max-h-[357px] max-md:h-auto overflow-y-auto",children:a.length>0?(0,t.jsxs)("table",{className:"min-w-full divide-y divide-green-200 border border-green-400",children:[t.jsx("thead",{className:"bg-green-100",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-2 py-1 text-left text-xs font-medium text-green-800",children:"item"}),t.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"amount"}),t.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"kcal"}),t.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"often"}),t.jsx("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"delete"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-green-200",children:a.map(e=>(0,t.jsxs)("tr",{className:"whitespace-nowrap",children:[t.jsx("td",{className:"px-2 py-1 text-xs font-medium text-gray-900 w-32",children:(0,t.jsxs)("button",{className:"w-[120px] hover:border-b",onClick:()=>i(e),children:[t.jsx("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.food&&e.food.name}),t.jsx("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.fat_secret_food&&e.fat_secret_food.name})]})}),t.jsx("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:null!==e.servings?(0,t.jsxs)(t.Fragment,{children:[e.servings,e.food&&" servings",e.fat_secret_food&&` ${e.fat_secret_food.unit}`]}):null!==e.grams?`${e.grams} (g)`:"Serving information not available"}),(0,t.jsxs)("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:[t.jsx("strong",{children:Math.round(e.intake_cal)})," kcal"]}),t.jsx("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:e.food?t.jsx(U.Z,{food:e.food}):t.jsx(U.Z,{fatsecret_food:e.fat_secret_food})}),t.jsx("td",{className:"px-2 py-1 text-center text-xs text-red-600",children:t.jsx(G.Z,{id:e.id})})]},e.id))})]}):(0,t.jsxs)("p",{className:"text-gray-500",children:["No meals recorded for ",r,"."]})})]})};var Y=(0,g.$)("6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081");let J=N.Ry().shape({grams:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:N.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),X=()=>{(0,u.useRouter)();let e=(0,f.TL)(),r=(0,f.CG)(e=>e.food_meal?.edit_meal),[s,a]=(0,m.useState)(!1),[n,l]=(0,m.useState)(!1),i=(0,f.CG)(e=>e.load.custom_food_loading);(0,m.useEffect)(()=>{e((0,x.Xl)())},[i]);let d={grams:r?.grams??null,servings:r?.servings??1};(0,m.useEffect)(()=>{r&&(o.setValues({grams:r.grams??null,servings:r.servings??null}),r.grams&&!r.servings?a(!0):a(!1))},[r]);let o=(0,y.TA)({initialValues:d,validationSchema:J,onSubmit:async s=>{if(r)try{e((0,w.Tr)(!0)),e((0,w.yP)(!0));let t=await Y(s,r.id);if("error"in t){e((0,b.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,b.Qu)()),3e3);return}"message"in t&&(e((0,b.fz)({message:t.message,type:"success"})),setTimeout(()=>e((0,b.Qu)()),4e3),e((0,x.Xl)()))}catch(r){e((0,b.fz)({message:"An error occurred while updating the meal.",type:"error"})),setTimeout(()=>e((0,b.Qu)()),3e3)}finally{e((0,w.Tr)(!1)),e((0,w.yP)(!1))}else{e((0,b.fz)({message:"You need to choose meal.",type:"error"})),setTimeout(()=>e((0,b.Qu)()),3e3);return}}}),c=[.25,.5,.75,1,1.5,2,3],g=e=>{let r=e.target.value;o.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&o.setFieldValue("servings",null)},h=e=>{let r=e.target.value;o.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&o.setFieldValue("grams",null)},p=e=>{"custom"===e?l(!n):(o.setFieldValue("servings",e),o.setFieldValue("grams",null),a(!1))};return t.jsx(t.Fragment,{children:r&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[r.food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[t.jsx("div",{className:"text-gray-700 font-medium items-start text-base",children:r.food.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(r.food.protein)," g F: ",Math.round(r.food.fat)," g C: ",Math.round(r.food.carb)," g (",Math.round(r.food.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:o.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[r.food.g_per_serving?(0,t.jsxs)("div",{className:(0,v.Z)(s?"block":"hidden"),children:[t.jsx("input",{id:"grams",name:"grams",type:"number",onChange:g,onBlur:o.handleBlur,value:o.values.grams??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),t.jsx("span",{className:"text-[15px]",children:" (g)"}),o.touched.grams&&o.errors.grams?t.jsx("div",{className:"text-red-600 text-sm",children:o.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,v.Z)(s?"hidden":"block"),children:[t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:c.map(e=>t.jsx("button",{type:"button",onClick:()=>p(e),className:(0,v.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",o.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[t.jsx("button",{type:"button",onClick:()=>p("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),n&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("input",{id:"servings",name:"servings",type:"number",onChange:h,onBlur:o.handleBlur,value:o.values.servings??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),t.jsx("span",{className:"text-[15px]",children:" (servings)"})]})]}),o.touched.servings&&o.errors.servings?t.jsx("div",{className:"text-red-600 text-sm",children:o.errors.servings}):null]})]}),r.food.g_per_serving?t.jsx("div",{children:t.jsx("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{a(!s),s?(o.setFieldValue("grams",null),o.setFieldValue("servings",null)):(o.setFieldValue("grams",null),o.setFieldValue("servings",1),l(!1))},children:s?"Input by Servings":"Input by Grams"})}):null,t.jsx("div",{children:t.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]}),r.fat_secret_food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium text-base",children:[r.fat_secret_food.name,r.fat_secret_food.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",r.fat_secret_food.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",r.fat_secret_food.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(r.fat_secret_food.protein)," g F: ",Math.round(r.fat_secret_food.fat)," g C: ",Math.round(r.fat_secret_food.carb)," g (",Math.round(r.fat_secret_food.cal)," kcal) / ",r.fat_secret_food.unit]})]}),(0,t.jsxs)("form",{onSubmit:o.handleSubmit,className:"space-y-6 mt-4",children:[t.jsx("div",{children:"100g"===r.fat_secret_food.unit?(0,t.jsxs)("div",{children:[t.jsx("input",{id:"grams",name:"grams",type:"number",onChange:g,onBlur:o.handleBlur,value:o.values.grams??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",t.jsx("span",{className:"text-[15px]",children:" (g)"}),o.touched.grams&&o.errors.grams?t.jsx("div",{className:"text-red-600 text-sm",children:o.errors.grams}):null]}):(0,t.jsxs)("div",{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:c.map(e=>t.jsx("button",{type:"button",onClick:()=>p(e),className:(0,v.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",o.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[t.jsx("button",{type:"button",onClick:()=>p("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),n&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("input",{id:"servings",name:"servings",type:"number",onChange:h,onBlur:o.handleBlur,value:o.values.servings??"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",r.fat_secret_food.unit,")"]})]})]}),o.touched.servings&&o.errors.servings?t.jsx("div",{className:"text-red-600 text-sm",children:o.errors.servings}):null]})}),t.jsx("div",{children:t.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]})]})})},K=({date:e,meal_type:r})=>(0,t.jsxs)(t.Fragment,{children:[t.jsx("hr",{}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4 max-md:mt-3",children:[t.jsx("div",{className:"mb-4",children:t.jsx("h2",{className:"text-base font-semibold",children:"Manage Your Meals"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(W,{date:e,meal_type:r}),t.jsx(X,{})]})]}),t.jsx("hr",{})]});var ee=s(49041),er=s(95908);let es=({params:{meal_type:e,date:r}})=>{let s=(0,a.W6)(),i=(0,a._Y)(new Date);i.setDate(i.getDate()+2);let d=(0,a.kh)(i,"yyyy-MM-dd"),o=/^\d{4}-\d{2}-\d{2}$/.test(r)&&!isNaN(Date.parse(r))&&r<=d?r:s,c=["Breakfast","Lunch","Dinner","Snack"].includes(e)?e:"Breakfast";return(0,t.jsxs)(t.Fragment,{children:[t.jsx(ee.Z,{date:o}),t.jsx(l.Z,{date:o}),t.jsx(n.Z,{date:o}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex w-5/6 max-lg:w-full max-lg:flex-col-reverse",children:[(0,t.jsxs)("div",{className:"w-1/2 max-lg:w-full",children:[t.jsx(S,{}),t.jsx(E,{date:o,meal_type:c}),t.jsx(L,{date:o,meal_type:c})]}),(0,t.jsxs)("div",{className:"lg:hidden flex ",children:[t.jsx("div",{className:"w-1/3 max-sm:w-1/2 h-[180px] border",children:t.jsx(er.Z,{})}),t.jsx("div",{className:"w-1/3 max-sm:w-1/2 h-[180px] border",children:t.jsx(er.Z,{})})]}),t.jsx("div",{className:"w-1/2 max-lg:w-full",children:t.jsx(K,{date:o,meal_type:c})})]}),(0,t.jsxs)("div",{className:"w-1/6 ml-4 max-lg:hidden ",children:[t.jsx("div",{className:"h-[200px] w-[200px] border",children:t.jsx(er.Z,{})}),t.jsx("div",{className:"h-[200px] w-[200px] border",children:t.jsx(er.Z,{})}),t.jsx("div",{className:"h-[200px] w-[200px] border",children:t.jsx(er.Z,{})})]})]}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"w-1/3 h-[180px] max-sm:w-1/2 border",children:t.jsx(er.Z,{})}),t.jsx("div",{className:"w-1/3 h-[180px] max-sm:w-1/2 border",children:t.jsx(er.Z,{})})]})]})}},72766:(e,r,s)=>{"use strict";s.d(r,{x:()=>t}),s(15424);var t=(0,s(46242).$)("be89e7bb6617af0a23ae48cefc188e6cf334430c")},44394:(e,r,s)=>{"use strict";s.d(r,{r:()=>b});var t=s(10326),a=s(17577),n=s(41135),l=s(23703),i=s(35047),d=s(10123),o=s(39530),c=s(74132),m=s(44046);s(15424);var u=(0,s(46242).$)("0da2dde8e1dec082a8d241ac927be311e1678626");let f=d.Ry().shape({name:d.Z_().max(30,"Name must be less than 30 characters").required("Name is required!")});function b(){let e=(0,i.useRouter)(),r=(0,o.TL)(),[s,d]=(0,a.useState)(!1),b=(0,o.CG)(e=>e.license.license),x=(0,l.TA)({initialValues:{name:""},validationSchema:f,onSubmit:async s=>{try{let t=await u(s);"error"in t?(r((0,c.fz)({message:t.error,type:"error"})),setTimeout(()=>r((0,c.Qu)()),4e3)):"message"in t&&(r((0,c.fz)({message:t.message,type:"success"})),setTimeout(()=>r((0,c.Qu)()),3e3),d(!1),e.push(`/dashboard/meal-set/${t.data.id}`))}catch(e){r((0,c.fz)({message:"An error occurred while creating the meal set.",type:"error"})),setTimeout(()=>r((0,c.Qu)()),3e3)}}});return(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsxs)("button",{className:"flex items-center px-3 py-1 text-xs font-medium text-white bg-gradient-to-r from-emerald-400 to-emerald-600 rounded-md shadow hover:from-green-500 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",onClick:()=>{if(!b||"free"===b){e.push("/dashboard/premium");return}d(!0)},children:[t.jsx(m.wEH,{className:"mr-1"}),"Create Meal Set"]}),t.jsx("span",{className:"absolute top-[-14px] right-0 text-[8px] bg-gradient-to-b from-gray-200 to-gray-400 text-black px-1 py-0.5 rounded-full font-bold",children:"Premium"}),s&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,t.jsxs)("div",{className:"relative z-50 bg-white rounded-lg w-full max-w-lg p-6 mx-4 my-8",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[t.jsx("h2",{className:"text-2xl font-bold leading-9 tracking-tight mb-4",children:"Create Meal Set"}),t.jsx("p",{className:"text-sm mb-2 text-red-600",children:"Note: Please ensure the input data is accurate."}),(0,t.jsxs)("form",{onSubmit:x.handleSubmit,className:"h-[200px] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Name *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[t.jsx("input",{type:"text",id:"name",name:"name",value:x.values.name,onChange:x.handleChange,onBlur:x.handleBlur,className:(0,n.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":x.touched.name&&x.errors.name}),autoComplete:"off"}),x.errors.name&&x.touched.name&&t.jsx("p",{className:"text-red-500 text-xs",children:x.errors.name})]})]}),t.jsx("section",{className:"w-full flex flex-col gap-y-3 justify-start items-end lg:items-center lg:flex-row lg:gap-y-0 lg:justify-between",children:t.jsx("button",{type:"submit",className:"flex w-[80px] order-1 lg:order-2 lg:w-fit justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:"Create"})})]}),t.jsx("button",{className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",onClick:()=>d(!1),children:"✕"})]})]})]})}},47258:(e,r,s)=>{"use strict";s.d(r,{Z:()=>c});var t=s(10326);s(17577);var a=s(74132),n=s(39530);s(15424);var l=(0,s(46242).$)("6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e"),i=s(3062),d=s(14357),o=s(94835);let c=({id:e})=>{let r=(0,n.TL)(),s=async()=>{try{r((0,i.Tr)(!0));let s=await l(e);if("error"in s){r((0,a.fz)({message:s.error,type:"error"})),setTimeout(()=>r((0,a.Qu)()),3e3);return}if("detail"in s){r((0,a.fz)({message:s.detail,type:"error"})),setTimeout(()=>r((0,a.Qu)()),3e3);return}"message"in s&&(r((0,a.fz)({message:s.message,type:"success"})),setTimeout(()=>r((0,a.Qu)()),3e3),r((0,d.Xl)()))}catch(e){r((0,a.fz)({message:"An error occurred while deleting the meal.",type:"error"})),setTimeout(()=>r((0,a.Qu)()),3e3)}finally{r((0,i.Tr)(!1))}};return t.jsx("div",{className:"flex items-center gap-x-2 p-2 ",children:t.jsx("button",{className:"hover:text-red-800 transition",onClick:s,children:t.jsx(o.I0,{size:15})})})}},27816:(e,r,s)=>{"use strict";s.d(r,{Z:()=>f});var t=s(10326),a=s(17577),n=s(35047),l=s(39530),i=s(74132),d=s(3062);s(15424);var o=s(46242),c=(0,o.$)("8a42b8b540243bc7fd7247cb2280a07c257963ae"),m=(0,o.$)("28a819062975c26b1cb5f64dd90355706540512b"),u=s(94835);let f=({date:e,meal_type:r})=>{let s=(0,n.useRouter)(),o=(0,l.TL)(),[f,b]=(0,a.useState)([]),[x,g]=(0,a.useState)(!1),h=(0,l.CG)(e=>e.license.license);(0,a.useEffect)(()=>{(async()=>{if(h&&"free"!==h)try{let e=await m(r);if("error"in e){o((0,i.fz)({message:e.error,type:"error"})),setTimeout(()=>o((0,i.Qu)()),3e3);return}"message"in e&&b(e.data)}catch(e){}})()},[r,o,h]);let p=async()=>{if(!h||"free"===h){s.push("/dashboard/premium");return}try{o((0,d.Tr)(!0));let s=await c({date:e,meal_type:r});if("error"in s){o((0,i.fz)({message:s.error,type:"error"})),setTimeout(()=>o((0,i.Qu)()),3e3);return}"message"in s&&(o((0,i.fz)({message:s.message,type:"success"})),setTimeout(()=>o((0,i.Qu)()),4e3))}catch(e){o((0,i.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>o((0,i.Qu)()),3e3)}finally{o((0,d.Tr)(!1))}};return(0,t.jsxs)("div",{className:"relative",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[t.jsx("button",{className:" flex items-center justify-center p-1 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition",onClick:p,children:t.jsx(u.BMe,{size:20})}),x&&t.jsx("div",{className:"absolute z-10 p-2 bg-white border-2 border-blue-500 rounded shadow-lg w-64 ml-2 mt-2",children:(0,t.jsxs)("div",{className:"border-2 border-blue-500 p-2 rounded-md bg-blue-50",children:[t.jsx("ul",{children:f.map((e,r)=>t.jsx("li",{className:"text-xs text-gray-700 truncate",children:e.food?e.food.name:e.fat_secret_food?.name},r))}),!h||"free"===h&&(0,t.jsxs)("div",{className:"font-bold ",children:["This is for ",t.jsx("span",{className:"rounded-lg py-0.5 px-1 bg-gradient-to-r from-gray-200 to-gray-400 text-black",children:"Premium"})]})]})})]})}},29319:(e,r,s)=>{"use strict";s.d(r,{Z:()=>i});var t=s(10326);s(17577);var a=s(35047),n=s(41135),l=s(45884);let i=({date:e})=>{let r=(0,a.usePathname)(),s=e||(0,l.W6)(),i=[{label:"Record",href:`/dashboard/record/${s}`},{label:"Breakfast",href:`/dashboard/meal/Breakfast/${s}`},{label:"Lunch",href:`/dashboard/meal/Lunch/${s}`},{label:"Dinner",href:`/dashboard/meal/Dinner/${s}`},{label:"Snack",href:`/dashboard/meal/Snack/${s}`},{label:"Exercise",href:`/dashboard/exercise/${s}`}];return t.jsx("div",{className:"w-full flex justify-start rounded-md border-b-2 border-yellow-100",children:t.jsx("nav",{className:"w-full",children:t.jsx("ul",{className:"flex flex-wrap space-x-1 py-1 px-1 w-full pb-0",children:i.map(e=>t.jsx("li",{className:"flex-none bg-yellow-100",children:t.jsx("a",{href:e.href,className:(0,n.Z)("block py-1 px-1 text-center text-gray-700 rounded-t-md","hover:bg-white hover:text-gray-900 border border-yellow-200 transition-all","text-xs md:text-sm lg:text-base",{"bg-white text-gray-900 font-bold":r===e.href}),style:{minWidth:"60px"},children:e.label})},e.label))})})})}},66627:(e,r,s)=>{"use strict";s.d(r,{Z:()=>m});var t=s(10326),a=s(35047),n=s(92977),l=s(88206),i=s(94629),d=s(89818),o=s(45884),c=s(17577);let m=({date:e})=>{var r;let s=(0,a.usePathname)()||"/",m=(0,a.useRouter)(),u=(0,o._Y)(new Date),f=(0,o.W6)(),b=(0,n.E)(u,2),[x,g]=(0,c.useState)(f);(0,c.useEffect)(()=>{e&&/^\d{4}-\d{2}-\d{2}$/.test(e)&&(0,l.J)((0,i.D)(e))&&g(e)},[e]);let h=(0,d.WU)((r=(0,i.D)(x),(0,n.E)(r,-1)),"yyyy-MM-dd"),p=(0,d.WU)((0,n.E)((0,i.D)(x),1),"yyyy-MM-dd"),v=(0,i.D)(p)>b,y=e=>{let r=s.split("/").slice(0,-1).join("/"),t=`${r}/${e}`;m.push(t)},j=(0,d.WU)((0,i.D)(x),"yyyy, MMMM do");return t.jsx("nav",{className:"bg-yellow-400 shadow-md rounded-full my-2 mx-auto w-[280px] max-w-lg",children:(0,t.jsxs)("ul",{className:"flex justify-between items-center py-1",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>y(h),className:"text-white font-medium px-2 py-1 rounded-full bg-yellow-400 hover:bg-yellow-500 text-xs",style:{fontSize:"0.625rem"},children:"Previous Day"})}),t.jsx("li",{children:t.jsx("span",{className:"text-white font-bold text-sm",children:j})}),v?t.jsx("div",{className:"w-[70px]",children:" "}):t.jsx("li",{children:t.jsx("button",{onClick:()=>y(p),className:"text-white font-medium px-2 py-1 rounded-full bg-yellow-400 hover:bg-yellow-500 text-xs",style:{fontSize:"0.625rem"},children:"Next Day"})})]})})}},49041:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(10326),a=s(17577),n=s(39530),l=s(74132),i=s(8981),d=s(31051);let o=({date:e})=>{let r=(0,n.TL)(),[s,o]=(0,a.useState)(null),c=(0,n.CG)(e=>e.load.meal_loading),m=(0,n.CG)(e=>e.load.exercise_loading);(0,a.useEffect)(()=>{(async()=>{try{let s=await (0,i.q)(e);"error"in s?(r((0,l.fz)({message:s.error,type:"error"})),setTimeout(()=>r((0,l.Qu)()),3e3)):"message"in s&&o(s.data)}catch(e){r((0,l.fz)({message:"An error occurred while fetching cals & nutrients",type:"error"})),setTimeout(()=>r((0,l.Qu)()),3e3)}})()},[e,r,c,m]);let u=(e,r)=>0===r?"0%":`${(e/r*100).toFixed(1)}%`,f=s||{sum_intake_cal:0,sum_intake_protein:0,sum_intake_fat:0,sum_intake_carbs:0,total_consume_cal:0},b=f.sum_intake_protein+f.sum_intake_fat+f.sum_intake_carbs;return b&&(f.sum_intake_protein,f.sum_intake_fat,f.sum_intake_carbs),(0,t.jsxs)("div",{className:"max-w-lg mx-auto mt-1 relative",children:[t.jsx(d.Z,{}),(0,t.jsxs)("div",{className:"max-w-lg mx-auto mt-1 relative p-4 bg-yellow-100 rounded-lg shadow-md text-xs w-full",children:[(0,t.jsxs)("div",{className:"flex max-md:flex-col justify-between",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 max-md:col-span-2",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Intake Calories"}),(0,t.jsxs)("span",{className:"text-base font-bold ml-4",children:[Math.round(f.sum_intake_cal)," kcal"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 max-md:col-span-2",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Burned Calories"}),(0,t.jsxs)("span",{className:"text-base font-bold ml-4",children:[Math.round(f.total_consume_cal)," kcal"]})]})]}),t.jsx("div",{className:" m-1 p-0",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs",children:"Protein: "}),(0,t.jsxs)("span",{className:"font-bold text-sm",children:[Math.round(f.sum_intake_protein)," g (",u(f.sum_intake_protein,b),")"]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs",children:"Fat: "}),(0,t.jsxs)("span",{className:"font-bold text-sm",children:[Math.round(f.sum_intake_fat)," g (",u(f.sum_intake_fat,b),")"]})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs",children:"Carbs: "}),(0,t.jsxs)("span",{className:"font-bold text-sm",children:[Math.round(f.sum_intake_carbs)," g (",u(f.sum_intake_carbs,b),")"]})]})]})})]})]})}},72199:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var t=s(68570);let a=(0,t.createProxy)(String.raw`/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/meal/[meal_type]/[date]/page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,t.createProxy)(String.raw`/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/meal/[meal_type]/[date]/page.tsx#default`)},19968:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,createCustomFood:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("ebc0e3185c11a268e46a358d1ed67a087a3eb887",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/create-food/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("6a87c37439f4089f529f7fabd394372ee953399e",i)},21093:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,createMealSet:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("492a457f30e687c4bb2cefa88f2314a34d0d0e1d",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/create-meal-set/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("0da2dde8e1dec082a8d241ac927be311e1678626",i)},91952:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,createMealWithMealSet:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("d0736e4f387dbbf78538ee4553577f2c7f391049",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/create-meal-with-meal-set/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("fad9de3b23c5d88a1bcb45ade664b3ffae692138",i)},67315:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,createMealWithLatest:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("7c2574a7734e2d3d6789ab1bad14e46f8e613597",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/create-meals-with-latest-meal/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("8a42b8b540243bc7fd7247cb2280a07c257963ae",i)},30028:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,deleteMeal:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("3e8279eb3363b8a4a3ff00650dc3502ae373bfaa",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/delete-meal/${e}/`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`}})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e",i)},38386:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,deleteMealSet:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("c027b56e18a0e9daec2c20ea5f7bc4027b4369a8",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/delete-meal-set/${e}/`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`}})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("27f90133d70450b99ed179ddee9da2d5994ad85f",i)},26956:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,fetchLatestMeals:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("b7d9f3342a93717ae383fb09f599a8777b2bc2e6",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/get-latest-meal/${e}/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${s}`}})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("28a819062975c26b1cb5f64dd90355706540512b",i)},97217:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,fetchMealSetList:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("6c52b8f3f595c9d6ea755ce2e952a92d96ee33b5",d);async function d(){let e=(0,a.cookies)(),r=e.get("token")?.value;return r?(await fetch(`${n.API_URL}/meals/get-meal-set-list/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${r}`}})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("86a6695be0bfe7cbf23795106db8997c1ed9aec4",i)},57076:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,fetchMeals:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("f1eedbe3c169d127f552e5c5d8c985e931af6b27",d);async function d(e,r){let s=(0,a.cookies)(),t=s.get("token")?.value;return t?(await fetch(`${n.API_URL}/meals/get-meal/${e}/${r}/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${t}`}})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("be89e7bb6617af0a23ae48cefc188e6cf334430c",i)},86489:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,registerMeal:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("a1666b55b2fc94ed021a59ca290beb7092675d72",d);async function d(e){let r=(0,a.cookies)(),s=r.get("token")?.value;return s?(await fetch(`${n.API_URL}/meals/create-meal/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${s}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("813f4d442d2c9b92710ddf1212296598abc28c6a",i)},26210:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>d,updateMeal:()=>i});var t=s(27745);s(26461);var a=s(53973),n=s(97228),l=s(85723);let i=(0,t.registerServerReference)("75e4cf5a8d25542c8dba192139597868e4624336",d);async function d(e,r){let s=(0,a.cookies)(),t=s.get("token")?.value;return t?(await fetch(`${n.API_URL}/meals/update-meal/${r}/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Token ${t}`},body:JSON.stringify(e)})).json():{error:"Token not found"}}(0,l.ensureServerEntryExports)([i]),(0,t.registerServerReference)("6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081",i)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,5898,7039,4046,362,9632,8587,1855,8736,6329,7454,397],()=>s(6437));module.exports=t})();