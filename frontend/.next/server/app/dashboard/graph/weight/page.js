(()=>{var e={};e.id=3473,e.ids=[3473],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},43366:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>l,routeModule:()=>b,tree:()=>c}),a(5528),a(52150),a(96162),a(12975),a(7629),a(12523);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),d=a(95231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(t,o);let c=["",{children:["dashboard",{children:["graph",{children:["weight",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5528)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/graph/weight/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,52150)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/graph/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,96162)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,12975)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/app/dashboard/graph/weight/page.tsx"],h="/dashboard/graph/weight/page",u={require:a,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/graph/weight/page",pathname:"/dashboard/graph/weight",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30569:(e,t,a)=>{let r={"1d98f534c6c8a434f48c92585dad47f0feda3c07":()=>Promise.resolve().then(a.bind(a,530)).then(e=>e.fetchDynamicGraph),"1e043871dd9e671fed6916ef8c6fdac48d427d88":()=>Promise.resolve().then(a.bind(a,530)).then(e=>e.$$ACTION_0),"858914e98d27d2b3c1ac560be8592aedd50c27a5":()=>Promise.resolve().then(a.bind(a,530)).then(e=>e.$$ACTION_1),"9a93829e93d21532961a0fb04b019c91c4e3d4c8":()=>Promise.resolve().then(a.bind(a,530)).then(e=>e.fetchDynamic),"8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea":()=>Promise.resolve().then(a.bind(a,25087)).then(e=>e.fetchGoal),bd823d0613ec645d321466a579ecb55214ec52c4:()=>Promise.resolve().then(a.bind(a,25087)).then(e=>e.$$ACTION_0),"3e793398c34ccf0e9a41e8b783f764896bcc54b8":()=>Promise.resolve().then(a.bind(a,17346)).then(e=>e.$$ACTION_0),"78e50616bcc9f3a4ab9f0d6b75948676d37239cc":()=>Promise.resolve().then(a.bind(a,17346)).then(e=>e.fetchLicenseType)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"1d98f534c6c8a434f48c92585dad47f0feda3c07":s.bind(null,"1d98f534c6c8a434f48c92585dad47f0feda3c07"),"1e043871dd9e671fed6916ef8c6fdac48d427d88":s.bind(null,"1e043871dd9e671fed6916ef8c6fdac48d427d88"),"858914e98d27d2b3c1ac560be8592aedd50c27a5":s.bind(null,"858914e98d27d2b3c1ac560be8592aedd50c27a5"),"9a93829e93d21532961a0fb04b019c91c4e3d4c8":s.bind(null,"9a93829e93d21532961a0fb04b019c91c4e3d4c8"),"8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea":s.bind(null,"8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea"),bd823d0613ec645d321466a579ecb55214ec52c4:s.bind(null,"bd823d0613ec645d321466a579ecb55214ec52c4"),"3e793398c34ccf0e9a41e8b783f764896bcc54b8":s.bind(null,"3e793398c34ccf0e9a41e8b783f764896bcc54b8"),"78e50616bcc9f3a4ab9f0d6b75948676d37239cc":s.bind(null,"78e50616bcc9f3a4ab9f0d6b75948676d37239cc")}},61026:(e,t,a)=>{Promise.resolve().then(a.bind(a,33835))},38634:(e,t,a)=>{"use strict";a.d(t,{r:()=>s,t:()=>n}),a(15424);var r=a(46242),s=(0,r.$)("1d98f534c6c8a434f48c92585dad47f0feda3c07"),n=(0,r.$)("9a93829e93d21532961a0fb04b019c91c4e3d4c8")},64707:(e,t,a)=>{"use strict";a.d(t,{V:()=>r}),a(15424);var r=(0,a(46242).$)("8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea")},33835:(e,t,a)=>{"use strict";a.d(t,{default:()=>g});var r=a(10326),s=a(17577),n=a(35047),i=a(39530),d=a(74132),o=a(38634),c=a(43360),l=a(67390),h=a(43362),u=a(61636);l.kL.register(u.Z),l.kL.register(...l.zX);let b=(e,t)=>null===e?null:"lbs"===t?parseFloat((2.20462*e).toFixed(0)):e,p=({data:e=[],period:t,goal:a,unit:s})=>{let n=(0,h.Q)(e,t),i=n.map(e=>b(e.weight,s)).filter(e=>null!=e),d=a?.goal_weight??null,o={labels:n.map(e=>e.date),datasets:[{label:"Weight",data:n.map(e=>b(e.weight,s)),fill:!1,borderColor:"rgb(255, 99, 132)",tension:.1,yAxisID:"y-weight",spanGaps:!0}]},l=Math.max(0,Math.min(...i)-20),u=Math.max(...i)+20,p=l,f=u;"number"==typeof d&&(b(d,s)<l?p=Math.max(0,b(d,s)-10):b(d,s)>u&&(f=b(d,s)+10));let g={scales:{x:{type:"category",title:{display:!0,text:"Date"},ticks:{callback:function(e,t,a){let r=new Date(o.labels[t]),s=r.getUTCMonth()+1,n=r.getUTCDate();return`${s}/${n}`},color:"black"}},"y-weight":{type:"linear",position:"left",title:{display:!0,text:`Weight (${s})`},min:p,max:f}},plugins:{annotation:"number"==typeof d?{annotations:{line1:{type:"line",yMin:b(d,s),yMax:b(d,s),borderColor:"rgba(255, 0, 0, 0.5)",borderWidth:2}}}:void 0}};return(0,r.jsxs)("div",{className:"relative",children:[null!==d&&(0,r.jsxs)("div",{className:" w-full text-center text-gray-700 py-2 z-10",children:["Goal Weight: ",b(d,s)?.toFixed(1)," ",s]}),r.jsx(c.x1,{data:o,options:g,height:300,className:"border",style:{backgroundColor:"rgba(245, 245, 220, 0.2)"}})]})};var f=a(64707);let g=()=>{(0,n.useRouter)();let e=(0,i.TL)(),[t,a]=(0,s.useState)([]),[c,l]=(0,s.useState)(null),[h,u]=(0,s.useState)("2weeks"),[b,g]=(0,s.useState)("lbs");return(0,s.useEffect)(()=>{(async()=>{try{let t=await (0,o.r)();if("error"in t){e((0,d.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3);return}"message"in t&&a(t.data)}catch(e){}})()},[]),(0,s.useEffect)(()=>{(async()=>{try{let t=await (0,f.V)();"error"in t?(e((0,d.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3)):"message"in t&&l(t.data)}catch(t){e((0,d.fz)({message:"An error occurred while fetching Weight & Body Fat.",type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3)}})()},[]),(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md p-4 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-lg font-bold text-center mb-4",children:"Weight Transition Graph"}),r.jsx("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("label",{htmlFor:"period",className:"mr-2 text-gray-700 text-xs",children:"Display period:"}),(0,r.jsxs)("select",{id:"period",value:h,onChange:e=>{u(e.target.value)},className:"border border-gray-300 rounded-md px-2 py-1",children:[r.jsx("option",{value:"2weeks",children:"2 Weeks"}),r.jsx("option",{value:"1month",children:"1 Month"}),r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"}),r.jsx("option",{value:"24months",children:"24 Months"})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("button",{onClick:()=>{g(e=>"kg"===e?"lbs":"kg")},className:"text-xs px-2 py-1 bg-gray-300 text-gray-700 rounded-md shadow-md hover:bg-gray-400",children:"kg"===b?"Show in lbs":"Show in kg"})})]})}),r.jsx(p,{data:t,period:h,goal:c,unit:b})]})}},43362:(e,t,a)=>{"use strict";a.d(t,{Q:()=>s});let r=(e,t)=>{let a=[],r=new Date,s=new Date;switch(t){case"2weeks":default:s.setDate(r.getDate()-14);break;case"1month":s.setMonth(r.getMonth()-1);break;case"3months":s.setMonth(r.getMonth()-3);break;case"6months":s.setMonth(r.getMonth()-6);break;case"12months":s.setFullYear(r.getFullYear()-1);break;case"24months":s.setFullYear(r.getFullYear()-2)}let n=new Date(s);for(;n<=r;)a.push(new Date(n)),n.setDate(n.getDate()+1);return a},s=(e,t)=>{let a=r(e,t),s=new Map(e.map(e=>[e.date,e]));return a.map(e=>{let t=e.toISOString().slice(0,10);return s.get(t)||{date:t,weight:null,body_fat:null}})}},5528:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(19510),s=a(68570);let n=(0,s.createProxy)(String.raw`/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/components/graph/weight_fat/RenderLineWeight.tsx`),{__esModule:i,$$typeof:d}=n;n.default;let o=(0,s.createProxy)(String.raw`/Users/taisei_yamaguchi/Desktop/Egg-Health/frontend/src/components/graph/weight_fat/RenderLineWeight.tsx#default`),c=async()=>r.jsx(o,{})},530:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>o,$$ACTION_1:()=>l,fetchDynamic:()=>d,fetchDynamicGraph:()=>c});var r=a(27745);a(26461);var s=a(53973),n=a(97228),i=a(85723);let d=(0,r.registerServerReference)("1e043871dd9e671fed6916ef8c6fdac48d427d88",o);async function o(e){let t=(0,s.cookies)(),a=t.get("token")?.value;return a?(await fetch(`${n.API_URL}/user-details/get-dynamic/${e}/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${a}`}})).json():{error:"Token not found"}}let c=(0,r.registerServerReference)("858914e98d27d2b3c1ac560be8592aedd50c27a5",l);async function l(){let e=(0,s.cookies)(),t=e.get("token")?.value;return t?(await fetch(`${n.API_URL}/user-details/get-dynamic/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${t}`}})).json():{error:"Token not found"}}(0,i.ensureServerEntryExports)([d,c]),(0,r.registerServerReference)("9a93829e93d21532961a0fb04b019c91c4e3d4c8",d),(0,r.registerServerReference)("1d98f534c6c8a434f48c92585dad47f0feda3c07",c)},25087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>o,fetchGoal:()=>d});var r=a(27745);a(26461);var s=a(53973),n=a(97228),i=a(85723);let d=(0,r.registerServerReference)("bd823d0613ec645d321466a579ecb55214ec52c4",o);async function o(){let e=(0,s.cookies)(),t=e.get("token")?.value;return t?(await fetch(`${n.API_URL}/user-details/get-goal/`,{method:"GET",headers:{"content-type":"application/json",Authorization:`Token ${t}`}})).json():{error:"Token not found"}}(0,i.ensureServerEntryExports)([d]),(0,r.registerServerReference)("8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea",d)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5898,7039,4046,362,9632,8587,3360,1636,6329,2310],()=>a(43366));module.exports=r})();