(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5458],{4262:function(e,r,s){Promise.resolve().then(s.bind(s,8911)),Promise.resolve().then(s.bind(s,704)),Promise.resolve().then(s.bind(s,4587)),Promise.resolve().then(s.bind(s,2213)),Promise.resolve().then(s.bind(s,9622)),Promise.resolve().then(s.bind(s,1881)),Promise.resolve().then(s.bind(s,9796))},8322:function(e,r,s){"use strict";s.d(r,{x:function(){return t}}),s(4590);var t=(0,s(8064).$)("be89e7bb6617af0a23ae48cefc188e6cf334430c")},6037:function(e,r,s){"use strict";s.d(r,{Z:function(){return m}});var t=s(7437);s(2265);var a=s(8354),n=s(4297);s(4590);var i=(0,s(8064).$)("6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e"),l=s(4646),o=s(4459),d=s(6356),m=e=>{let{id:r}=e,s=(0,n.TL)(),m=async()=>{try{s((0,l.Tr)(!0));let e=await i(r);if("error"in e){s((0,a.fz)({message:e.error,type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3);return}if("detail"in e){s((0,a.fz)({message:e.detail,type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3);return}"message"in e&&(s((0,a.fz)({message:e.message,type:"success"})),setTimeout(()=>s((0,a.Qu)()),3e3),s((0,o.Xl)()))}catch(e){s((0,a.fz)({message:"An error occurred while deleting the meal.",type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3)}finally{s((0,l.Tr)(!1))}};return(0,t.jsx)("div",{className:"flex items-center gap-x-2 p-2 ",children:(0,t.jsx)("button",{className:"hover:text-red-800 transition",onClick:m,children:(0,t.jsx)(d.I0,{size:15})})})}},8911:function(e,r,s){"use strict";s.d(r,{default:function(){return v}});var t=s(7437),a=s(2265),n=s(4297),i=s(8354),l=s(8322),o=s(6037),d=s(4459),m=e=>{let{date:r,meal_type:s}=e,m=(0,n.TL)(),[u,c]=(0,a.useState)([]),x=(0,n.CG)(e=>e.load.meal_loading);(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,l.x)(r,s);if("error"in e){m((0,i.fz)({message:e.error,type:"error"})),setTimeout(()=>m((0,i.Qu)()),3e3);return}"message"in e&&c(e.data)}catch(e){}})()},[x]);let g=async e=>{m((0,d.GA)(e)),(0,d.Fe)()},h=u.reduce((e,r)=>e+(r.intake_cal||0),0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"sm:mx-auto md:w-full sm:max-w-sm flex justify-between items-center",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"text-xs mr-2",children:[r,"  "]}),(0,t.jsx)("span",{className:"text-sm font-medium mr-2",children:s}),(0,t.jsxs)("span",{className:"text-sm font-semi-bold",children:["(Total: ",Math.round(h)," kcal)"]})]})}),(0,t.jsx)("div",{className:"lg:mx-auto sm:w-full lg:max-w-sm max-h-[357px] max-md:h-auto overflow-y-auto",children:u.length>0?(0,t.jsxs)("table",{className:"min-w-full divide-y divide-green-200 border border-green-400",children:[(0,t.jsx)("thead",{className:"bg-green-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-green-800",children:"item"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"amount"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"kcal"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"delete"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-green-200",children:u.map(e=>(0,t.jsxs)("tr",{className:"whitespace-nowrap",children:[(0,t.jsx)("td",{className:"px-2 py-1 text-xs font-medium text-gray-900 w-32",children:(0,t.jsxs)("button",{className:"w-[120px] hover:border-b",onClick:()=>g(e),children:[(0,t.jsx)("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.food&&e.food.name}),(0,t.jsx)("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.fat_secret_food&&e.fat_secret_food.name})]})}),(0,t.jsx)("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:null!==e.servings?(0,t.jsxs)(t.Fragment,{children:[e.servings,e.food&&" servings",e.fat_secret_food&&" ".concat(e.fat_secret_food.unit)]}):null!==e.grams?"".concat(e.grams," (g)"):"Serving information not available"}),(0,t.jsxs)("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:[(0,t.jsx)("strong",{children:Math.round(e.intake_cal)})," kcal"]}),(0,t.jsx)("td",{className:"px-2 py-1 text-center text-xs text-red-600",children:(0,t.jsx)(o.Z,{id:e.id})})]},e.id))})]}):(0,t.jsxs)("p",{className:"text-gray-500",children:["No meals recorded for ",s,"."]})})]})},u=s(6463),c=s(4839),x=s(9381),g=s(4245);s(4590);var h=(0,s(8064).$)("6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081"),f=s(4646);let b=g.Ry().shape({grams:g.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:g.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})});var p=()=>{var e,r,s,l,o,m;(0,u.useRouter)();let g=(0,n.TL)(),p=(0,n.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.edit_meal}),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),w=(0,n.CG)(e=>e.load.custom_food_loading);(0,a.useEffect)(()=>{g((0,d.Xl)())},[w]);let _={grams:null!==(e=null==p?void 0:p.grams)&&void 0!==e?e:null,servings:null!==(r=null==p?void 0:p.servings)&&void 0!==r?r:1};(0,a.useEffect)(()=>{if(p){var e,r;C.setValues({grams:null!==(e=p.grams)&&void 0!==e?e:null,servings:null!==(r=p.servings)&&void 0!==r?r:null}),p.grams&&!p.servings?y(!0):y(!1)}},[p]);let C=(0,x.TA)({initialValues:_,validationSchema:b,onSubmit:async e=>{if(p)try{g((0,f.Tr)(!0)),g((0,f.yP)(!0));let r=await h(e,p.id);if("error"in r){g((0,i.fz)({message:r.error,type:"error"})),setTimeout(()=>g((0,i.Qu)()),3e3);return}"message"in r&&(g((0,i.fz)({message:r.message,type:"success"})),setTimeout(()=>g((0,i.Qu)()),4e3),g((0,d.Xl)()))}catch(e){g((0,i.fz)({message:"An error occurred while updating the meal.",type:"error"})),setTimeout(()=>g((0,i.Qu)()),3e3)}finally{g((0,f.Tr)(!1)),g((0,f.yP)(!1))}else{g((0,i.fz)({message:"You need to choose meal.",type:"error"})),setTimeout(()=>g((0,i.Qu)()),3e3);return}}}),F=[.25,.5,.75,1,1.5,2,3],V=e=>{let r=e.target.value;C.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&C.setFieldValue("servings",null)},S=e=>{let r=e.target.value;C.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&C.setFieldValue("grams",null)},k=e=>{"custom"===e?N(!j):(C.setFieldValue("servings",e),C.setFieldValue("grams",null),y(!1))};return(0,t.jsx)(t.Fragment,{children:p&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[p.food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsx)("div",{className:"text-gray-700 font-medium items-start text-base",children:p.food.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(p.food.protein)," g F: ",Math.round(p.food.fat)," g C: ",Math.round(p.food.carb)," g (",Math.round(p.food.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:C.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[p.food.g_per_serving?(0,t.jsxs)("div",{className:(0,c.Z)(v?"block":"hidden"),children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:V,onBlur:C.handleBlur,value:null!==(s=C.values.grams)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),C.touched.grams&&C.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:C.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,c.Z)(v?"hidden":"block"),children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:F.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>k(e),className:(0,c.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",C.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>k("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:S,onBlur:C.handleBlur,value:null!==(l=C.values.servings)&&void 0!==l?l:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (servings)"})]})]}),C.touched.servings&&C.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:C.errors.servings}):null]})]}),p.food.g_per_serving?(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{y(!v),v?(C.setFieldValue("grams",null),C.setFieldValue("servings",null)):(C.setFieldValue("grams",null),C.setFieldValue("servings",1),N(!1))},children:v?"Input by Servings":"Input by Grams"})}):null,(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]}),p.fat_secret_food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium text-base",children:[p.fat_secret_food.name,p.fat_secret_food.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",p.fat_secret_food.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",p.fat_secret_food.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(p.fat_secret_food.protein)," g F: ",Math.round(p.fat_secret_food.fat)," g C: ",Math.round(p.fat_secret_food.carb)," g (",Math.round(p.fat_secret_food.cal)," kcal) / ",p.fat_secret_food.unit]})]}),(0,t.jsxs)("form",{onSubmit:C.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsx)("div",{children:"100g"===p.fat_secret_food.unit?(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:V,onBlur:C.handleBlur,value:null!==(o=C.values.grams)&&void 0!==o?o:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),C.touched.grams&&C.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:C.errors.grams}):null]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:F.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>k(e),className:(0,c.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",C.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>k("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:S,onBlur:C.handleBlur,value:null!==(m=C.values.servings)&&void 0!==m?m:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",p.fat_secret_food.unit,")"]})]})]}),C.touched.servings&&C.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:C.errors.servings}):null]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]})]})})},v=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4 max-md:mt-3",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Manage Your Meals"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(m,{date:r,meal_type:s}),(0,t.jsx)(p,{})]})]}),(0,t.jsx)("hr",{})]})}},704:function(e,r,s){"use strict";s.d(r,{default:function(){return _}});var t=s(7437),a=s(2265),n=s(9381),i=s(4245);s(4590);var l=s(8064),o=(0,l.$)("19cb0e72dbbcbcf49c393ba7e48690d825ebad7c"),d=s(8354),m=s(4297),u=s(4459);let c=i.Ry().shape({searchKey:i.Z_().trim().required("Search key is required!")});var x=()=>{let e=(0,m.TL)(),[r,s]=(0,a.useState)(!1),i=(0,n.TA)({initialValues:{searchKey:""},validationSchema:c,onSubmit:async(r,s)=>{let{resetForm:t}=s;try{let s=await o(r.searchKey);if("error"in s){e((0,d.fz)({message:s.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3);return}"message"in s&&(e((0,u.bI)()),e((0,u.RR)(s.data)))}catch(e){}finally{t()}}});return(0,t.jsxs)("div",{className:"flex items-center bg-green-300 p-1 rounded w-80",children:[(0,t.jsxs)("form",{onSubmit:i.handleSubmit,className:"flex items-center",children:[(0,t.jsx)("input",{type:"text",id:"searchKey",name:"searchKey",value:i.values.searchKey,onChange:i.handleChange,onBlur:i.handleBlur,placeholder:"Search Food",className:"px-2 py-1 text-gray-700 bg-white border rounded-l-md text-xs w-48 focus:outline-none"}),(0,t.jsx)("button",{type:"submit",className:"flex items-center justify-center px-2 py-1 text-white bg-slate-100 border border-l-0 rounded-r-md hover:bg-gray-200 text-xs",children:(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-3 h-3 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}),(0,t.jsx)("span",{className:"text-slate-500 ",children:"Search"})]})})]}),(0,t.jsxs)("div",{className:"ml-2 relative",children:[(0,t.jsx)("button",{onClick:()=>{s(!0)},className:"text-gray-700 text-xs hover:border-b border-color-black",children:"How ?"}),r&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-600 bg-opacity-50",children:(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg max-w-lg mx-4 my-8 relative",children:[(0,t.jsx)("button",{onClick:()=>{s(!1)},className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",children:"✕"}),(0,t.jsx)("h2",{className:"text-lg font-bold mb-4",children:"How to Search"}),(0,t.jsxs)("ul",{className:"list-disc list-inside",children:[(0,t.jsx)("li",{children:"Search using alphabets."}),(0,t.jsx)("li",{children:'Examples: search using product names, food names, types such as "McDonald" or "mushroom".'})]})]})})]})]})},g=(0,l.$)("ed632e20977b91e6ea402bab649de27090a0ee47"),h=()=>{let e=(0,m.TL)(),r=(0,m.CG)(e=>e.load.custom_food_loading),s=async()=>{try{let r=await g();if("error"in r){e((0,d.fz)({message:r.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3);return}"message"in r&&(e((0,u.bI)()),e((0,u.RR)(r.data)))}catch(e){}};return(0,a.useEffect)(()=>{r&&s()},[r,e]),(0,t.jsxs)("button",{className:"w-[60px] h-[50px] cursor-pointer p-3 bg-gradient-to-b from-orange-300 to-orange-500 hover:from-orange-400 hover:to-orange-600 shadow-md rounded-lg flex flex-col items-center",onClick:s,children:[(0,t.jsx)("p",{className:"text-sm font-bold text-white shadow-text",children:"Custom"}),(0,t.jsx)("p",{className:"text-[10px] font-normal text-white shadow-text",children:" Foods"})]})},f=(0,l.$)("367dc209dd2fdf097b31f5b71e50ba108ae3f123"),b=()=>{let e=(0,m.TL)(),r=async()=>{try{let r=await f();if("error"in r){e((0,d.fz)({message:r.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3);return}"message"in r&&(e((0,u.bI)()),e((0,u.RR)(r.data)))}catch(e){}};return(0,t.jsxs)("button",{className:"w-[60px] h-[50px] cursor-pointer p-2 bg-gradient-to-b from-yellow-300 to-yellow-500 hover:from-yellow-400 hover:to-yellow-600 shadow-md rounded-lg flex flex-col items-center",onClick:r,children:[(0,t.jsx)("p",{className:"text-[8px] font-normal text-white",children:"Choose from"}),(0,t.jsx)("p",{className:"text-xs font-bold text-white shadow-text",children:"History"})]})},p=s(4839),v=s(1942),y=(0,l.$)("6a87c37439f4089f529f7fabd394372ee953399e"),j=s(4646);let N=i.Ry().shape({name:i.Z_().max(30,"Name must be less than 30 characters").required("Name is required!"),cal:i.Rx().min(1,"Calories must be greater than 0").required("Calories are required!"),g_per_serving:i.Rx().nullable(),carb:i.Rx().min(0,"Value must be 0 or greater").required("Carb is required"),fat:i.Rx().min(0,"Value must be 0 or greater").required("Fat is required"),protein:i.Rx().min(0,"Value must be 0 or greater").required("Protein is required"),sugars:i.Rx().min(0,"Value must be 0 or greater").required("Sugars is required"),dietary_fiber:i.Rx().min(0,"Value must be 0 or greater").required("Dietary fiber is required"),salt:i.Rx().min(0,"Value must be 0 or greater").required("Salt is required"),sodium:i.Rx().min(0,"Value must be 0 or greater").required("Sodium is required"),potassium:i.Rx().min(0,"Value must be 0 or greater").required("Potassium is required"),calcium:i.Rx().min(0,"Value must be 0 or greater").required("Calcium is required"),magnesium:i.Rx().min(0,"Value must be 0 or greater").required("Magnesium is required"),iron:i.Rx().min(0,"Value must be 0 or greater").required("Iron is required"),zinc:i.Rx().min(0,"Value must be 0 or greater").required("Zinc is required"),vitamin_a:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin A is required"),vitamin_d:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin D is required"),vitamin_e:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin E is required"),vitamin_b1:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin B1 is required"),vitamin_b2:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin B2 is required"),vitamin_b12:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin B12 is required"),vitamin_b6:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin B6 is required"),vitamin_c:i.Rx().min(0,"Value must be 0 or greater").required("Vitamin C is required"),niacin:i.Rx().min(0,"Value must be 0 or greater").required("Niacin is required"),cholesterol:i.Rx().min(0,"Value must be 0 or greater").required("Cholesterol is required"),saturated_fat:i.Rx().min(0,"Value must be 0 or greater").required("Saturated fat is required"),polyunsaturated_fat:i.Rx().min(0,"Value must be 0 or greater").required("Polyunsaturated fat is required"),monounsaturated_fat:i.Rx().min(0,"Value must be 0 or greater").required("Monounsaturated fat is required")});function w(){let e=(0,m.TL)(),[r,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),o=(0,n.TA)({initialValues:{name:"",cal:1,g_per_serving:null,carb:0,fat:0,protein:0,sugars:0,dietary_fiber:0,salt:0,sodium:0,potassium:0,calcium:0,magnesium:0,iron:0,zinc:0,vitamin_a:0,vitamin_d:0,vitamin_e:0,vitamin_b1:0,vitamin_b2:0,vitamin_b12:0,vitamin_b6:0,vitamin_c:0,niacin:0,cholesterol:0,saturated_fat:0,polyunsaturated_fat:0,monounsaturated_fat:0},validationSchema:N,onSubmit:async r=>{try{e((0,j.ly)(!0));let t=await y(r);"error"in t?(e((0,d.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,d.Qu)()),4e3)):"message"in t&&(e((0,d.fz)({message:t.message,type:"success"})),setTimeout(()=>e((0,d.Qu)()),3e3),s(!1))}catch(r){e((0,d.fz)({message:"An error occurred while creating the custom food.",type:"error"})),setTimeout(()=>e((0,d.Qu)()),3e3)}finally{e((0,j.ly)(!1))}}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{className:"flex items-center px-3 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-400 to-orange-600 rounded-md shadow hover:from-orange-500 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",onClick:()=>s(!0),children:[(0,t.jsx)(v.wEH,{className:"mr-1"}),"Create Custom Item"]}),r&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex justify-center items-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 transition-opacity",children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,t.jsxs)("div",{className:"relative z-50 bg-white rounded-lg w-full max-w-lg p-6 mx-4 my-8",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-9 tracking-tight mb-4",children:"Create Custom Food"}),(0,t.jsx)("p",{className:"text-sm mb-2 text-red-600",children:"Note: Please ensure the nutritional information is accurate."}),(0,t.jsxs)("form",{onSubmit:o.handleSubmit,className:"h-[510px] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Name *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:o.values.name,onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.name&&o.errors.name}),autoComplete:"off"}),o.errors.name&&o.touched.name&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"cal",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Calories *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"cal",name:"cal",value:o.values.cal,onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.cal&&o.errors.cal}),autoComplete:"off"}),o.errors.cal&&o.touched.cal&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.cal})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"g_per_serving",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Grams per Serving"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"g_per_serving",name:"g_per_serving",value:o.values.g_per_serving||"",onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.g_per_serving&&o.errors.g_per_serving}),autoComplete:"off"}),o.errors.g_per_serving&&o.touched.g_per_serving&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.g_per_serving})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"carb",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Carbs (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"carb",name:"carb",value:o.values.carb,onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.carb&&o.errors.carb}),autoComplete:"off"}),o.errors.carb&&o.touched.carb&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.carb})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"fat",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Fat (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"fat",name:"fat",value:o.values.fat,onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.fat&&o.errors.fat}),autoComplete:"off"}),o.errors.fat&&o.touched.fat&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.fat})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"protein",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Protein (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"protein",name:"protein",value:o.values.protein,onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched.protein&&o.errors.protein}),autoComplete:"off"}),o.errors.protein&&o.touched.protein&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors.protein})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",className:"mt-2 mb-1 text-sm font-medium text-blue-500 underline hover:text-blue-700 focus:outline-none",onClick:()=>l(!i),children:i?"Hide Other Nutrients":"Show Other Nutrients"})}),i&&(0,t.jsx)(t.Fragment,{children:["sugars","dietary_fiber","salt","sodium","potassium","calcium","magnesium","iron","zinc","vitamin_a","vitamin_d","vitamin_e","vitamin_b1","vitamin_b2","vitamin_b12","vitamin_b6","vitamin_c","niacin","cholesterol","saturated_fat","polyunsaturated_fat","monounsaturated_fat"].map(e=>(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:e,className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:e.replace(/_/g," ").toUpperCase()}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:e,name:e,value:null!==o.values[e]&&void 0!==o.values[e]?o.values[e]:"",onChange:o.handleChange,onBlur:o.handleBlur,className:(0,p.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":o.touched[e]&&o.errors[e]}),autoComplete:"off"}),o.touched[e]&&o.errors[e]&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:o.errors[e]})]})]},e))}),(0,t.jsx)("section",{className:"w-full flex flex-col gap-y-3 justify-start items-end lg:items-center lg:flex-row lg:gap-y-0 lg:justify-between",children:(0,t.jsx)("button",{type:"submit",className:"flex w-full order-1 lg:order-2 lg:w-fit justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:"Create"})})]}),(0,t.jsx)("button",{className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",onClick:()=>s(!1),children:"✕"})]})]})]})}var _=()=>(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 1: Search for Food"})}),(0,t.jsx)(x,{}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(h,{})}),(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(b,{})})]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(w,{})})})]})},4587:function(e,r,s){"use strict";s.d(r,{default:function(){return g}});var t=s(7437);s(2265);var a=s(4297),n=s(4459),i=s(4379),l=s.n(i),o=s(6356);s(4590);var d=(0,s(8064).$)("82dde3b48fab94c911a9f98f3bb8c59a069ede72"),m=s(8354),u=s(4646),c=e=>{let{id:r}=e,s=(0,a.TL)();return(0,t.jsx)("div",{className:"flex items-center gap-x-2 p-2",children:(0,t.jsx)("button",{className:"hover:text-red-800 transition",onClick:()=>{l().fire({title:"Are you sure?",text:"This action will delete the food and all associated meals. Do you really want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async e=>{if(e.isConfirmed)try{s((0,u.Tr)(!0)),s((0,u.ly)(!0));let e=await d(r);"error"in e?s((0,m.fz)({message:e.error,type:"error"})):"detail"in e?s((0,m.fz)({message:e.detail,type:"error"})):"message"in e&&s((0,m.fz)({message:e.message,type:"success"}))}catch(e){s((0,m.fz)({message:"An error occurred while deleting the food.",type:"error"}))}finally{s((0,m.Qu)()),s((0,u.Tr)(!1)),s((0,u.ly)(!1))}})},children:(0,t.jsx)(o.I0,{size:15})})})},x=()=>{let e=(0,a.TL)(),r=(0,a.CG)(e=>e.food_meal.select_food_list),s=r=>{"food_id"in r?(e((0,n.km)(r)),e((0,n.Fe)())):(e((0,n.x9)(r)),e((0,n.zo)()))};return(0,t.jsx)(t.Fragment,{children:r&&(0,t.jsx)("div",{className:"lg:mx-auto lg:w-full lg:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white border border-gray-300 rounded-md",children:[(0,t.jsx)("div",{className:"bg-green-100 px-4 py-2 text-left text-xs font-medium text-gray-500 rounded-t-md",children:"Select Menu"}),(0,t.jsx)("div",{className:"flex flex-col h-56 overflow-y-auto",children:r.length>0?(0,t.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,t.jsx)("tr",{className:"hover:bg-gray-100 cursor-pointer",children:(0,t.jsxs)("td",{className:"px-2 py-2 text-sm text-gray-900 truncate max-w-xs flex items-center",title:e.name,onClick:()=>s(e),children:[(0,t.jsxs)("span",{className:"font-semibold",children:[e.name," "]}),"food_id"in e?(0,t.jsxs)("span",{children:[" ",e.brand_name&&(0,t.jsxs)(t.Fragment,{children:["(",e.brand_name,")"]})]}):(0,t.jsx)(c,{id:e.id})]})},e.id))})}):(0,t.jsx)("p",{className:"text-gray-500 p-4",children:"No food yet"})})]})})})},g=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 2: Select Foods for Your Meal"})}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(x,{})})]})}},2213:function(e,r,s){"use strict";s.d(r,{default:function(){return y}});var t=s(7437),a=s(2265),n=s(6463),i=s(4839),l=s(9381),o=s(4245),d=s(4297),m=s(8354);s(4590);var u=(0,s(8064).$)("813f4d442d2c9b92710ddf1212296598abc28c6a"),c=s(4646),x=s(4459);let g=o.Ry().shape({grams:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),h={grams:null,servings:1};var f=e=>{var r,s;let{date:o,meal_type:f}=e;(0,n.useRouter)();let b=(0,d.TL)(),p=(0,d.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.used_food}),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),w=(0,d.CG)(e=>e.load.custom_food_loading);(0,a.useEffect)(()=>{b((0,x.Fe)())},[w]);let _=(0,l.TA)({initialValues:h,validationSchema:g,onSubmit:async e=>{if(p)try{b((0,c.Tr)(!0)),b((0,c.yP)(!0));let r=await u({...e,food:p.id,date:o,meal_type:f});"error"in r?(b((0,m.fz)({message:r.error,type:"error"})),setTimeout(()=>b((0,m.Qu)()),3e3)):"message"in r&&(b((0,m.fz)({message:r.message,type:"success"})),setTimeout(()=>b((0,m.Qu)()),4e3),b((0,x.Fe)()))}catch(e){b((0,m.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>b((0,m.Qu)()),3e3)}finally{b((0,c.Tr)(!1)),b((0,c.yP)(!1))}else{b((0,m.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>b((0,m.Qu)()),3e3);return}}}),C=e=>{"custom"===e?N(!j):(_.setFieldValue("servings",e),_.setFieldValue("grams",null),y(!1))};return(0,t.jsx)(t.Fragment,{children:p&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsx)("div",{className:"text-gray-700 font-medium items-start text-base",children:p.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(p.protein)," g F: ",Math.round(p.fat)," g C: ",Math.round(p.carb)," g (",Math.round(p.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:_.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[p.g_per_serving?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,i.Z)(v?"block":"hidden"),children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;_.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&_.setFieldValue("servings",null)},onBlur:_.handleBlur,value:null!==(r=_.values.grams)&&void 0!==r?r:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"})]}),_.touched.grams&&_.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:_.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,i.Z)(v?"hidden":"block"),children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:[.25,.5,.75,1,1.5,2,3].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>C(e),className:(0,i.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",_.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>C("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;_.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&_.setFieldValue("grams",null)},onBlur:_.handleBlur,value:null!==(s=_.values.servings)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (servings)"})]})]}),_.touched.servings&&_.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:_.errors.servings}):null]})]}),p.g_per_serving?(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{y(!v),v?(_.setFieldValue("grams",null),_.setFieldValue("servings",null)):(_.setFieldValue("grams",null),_.setFieldValue("servings",1),N(!1))},children:v?"Input by Servings":"Input by Grams"})}):null,(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})};let b=o.Ry().shape({grams:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),p={grams:null,servings:null};var v=e=>{var r,s;let{date:o,meal_type:g}=e;(0,n.useRouter)();let h=(0,d.TL)(),f=(0,d.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.used_fatsecret_food}),[v,y]=(0,a.useState)(!1),j=(0,l.TA)({initialValues:p,validationSchema:b,onSubmit:async e=>{if(f)try{h((0,c.Tr)(!0)),h((0,c.yP)(!0));let r=await u({...e,fat_secret_food:f.id,date:o,meal_type:g});"error"in r?(h((0,m.fz)({message:r.error,type:"error"})),setTimeout(()=>h((0,m.Qu)()),3e3)):"message"in r&&(h((0,m.fz)({message:r.message,type:"success"})),setTimeout(()=>h((0,m.Qu)()),4e3),h((0,x.zo)()))}catch(e){h((0,m.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>h((0,m.Qu)()),3e3)}finally{h((0,c.Tr)(!1)),h((0,c.yP)(!1))}else{h((0,m.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>h((0,m.Qu)()),3e3);return}}}),N=e=>{"custom"===e?y(!v):(j.setFieldValue("servings",e),j.setFieldValue("grams",null),y(!1))};return(0,t.jsx)(t.Fragment,{children:f&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium items-start text-base",children:[f.name,f.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",f.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",f.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(f.protein)," g F: ",Math.round(f.fat)," g C: ",Math.round(f.carb)," g (",Math.round(f.cal)," kcal) / ",f.unit]})]}),(0,t.jsxs)("form",{onSubmit:j.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsx)("div",{children:"100g"===f.unit?(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;j.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&j.setFieldValue("servings",null)},onBlur:j.handleBlur,value:null!==(r=j.values.grams)&&void 0!==r?r:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),j.touched.grams&&j.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:j.errors.grams}):null]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2 ",children:[.25,.5,.75,1,1.5,2,3].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>N(e),className:(0,i.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",j.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>N("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),v&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;j.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&j.setFieldValue("grams",null)},onBlur:j.handleBlur,value:null!==(s=j.values.servings)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",f.unit,")"]})]})]}),j.touched.servings&&j.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:j.errors.servings}):null]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})},y=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 3: Register Your Meal"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f,{date:r,meal_type:s}),(0,t.jsx)(v,{date:r,meal_type:s})]})]})}}},function(e){e.O(0,[7699,6051,9461,7123,4349,3971,2314,2971,7023,1744],function(){return e(e.s=4262)}),_N_E=e.O()}]);