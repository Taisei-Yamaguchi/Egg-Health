(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5458],{3661:function(e,r,s){Promise.resolve().then(s.bind(s,3511))},3511:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return J}});var t=s(7437),a=s(355),n=s(9622),l=s(1881),i=s(2265),d=s(9381),o=s(4245);s(4590);var m=s(8064),u=(0,m.$)("19cb0e72dbbcbcf49c393ba7e48690d825ebad7c"),c=s(8354),x=s(4297),g=s(4459);let h=o.Ry().shape({searchKey:o.Z_().trim().required("Search key is required!")});var f=()=>{let e=(0,x.TL)(),[r,s]=(0,i.useState)(!1),a=(0,d.TA)({initialValues:{searchKey:""},validationSchema:h,onSubmit:async(r,s)=>{let{resetForm:t}=s;try{let s=await u(r.searchKey);if("error"in s){e((0,c.fz)({message:s.error,type:"error"})),setTimeout(()=>e((0,c.Qu)()),3e3);return}"message"in s&&(e((0,g.bI)()),e((0,g.RR)(s.data)))}catch(e){}finally{t()}}});return(0,t.jsxs)("div",{className:"flex items-center bg-green-300 p-1 rounded w-80",children:[(0,t.jsxs)("form",{onSubmit:a.handleSubmit,className:"flex items-center",children:[(0,t.jsx)("input",{type:"text",id:"searchKey",name:"searchKey",value:a.values.searchKey,onChange:a.handleChange,onBlur:a.handleBlur,placeholder:"Search Food",className:"px-2 py-1 text-gray-700 bg-white border rounded-l-md text-xs w-48 focus:outline-none"}),(0,t.jsx)("button",{type:"submit",className:"flex items-center justify-center px-2 py-1 text-white bg-slate-100 border border-l-0 rounded-r-md hover:bg-gray-200 text-xs",children:(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-3 h-3 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}),(0,t.jsx)("span",{className:"text-slate-500 ",children:"Search"})]})})]}),(0,t.jsxs)("div",{className:"ml-2 relative",children:[(0,t.jsx)("button",{onClick:()=>{s(!0)},className:"text-gray-700 text-xs hover:border-b border-color-black",children:"How ?"}),r&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-600 bg-opacity-50",children:(0,t.jsxs)("div",{className:"bg-white p-4 rounded shadow-lg max-w-lg mx-4 my-8 relative",children:[(0,t.jsx)("button",{onClick:()=>{s(!1)},className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",children:"✕"}),(0,t.jsx)("h2",{className:"text-lg font-bold mb-4",children:"How to Search"}),(0,t.jsxs)("ul",{className:"list-disc list-inside",children:[(0,t.jsx)("li",{children:"Search using alphabets."}),(0,t.jsx)("li",{children:'Examples: search using product names, food names, types such as "McDonald" or "mushroom".'})]})]})})]})]})},b=(0,m.$)("ed632e20977b91e6ea402bab649de27090a0ee47"),p=()=>{let e=(0,x.TL)(),r=(0,x.CG)(e=>e.load.custom_food_loading),s=async()=>{try{let r=await b();if("error"in r){e((0,c.fz)({message:r.error,type:"error"})),setTimeout(()=>e((0,c.Qu)()),3e3);return}"message"in r&&(e((0,g.bI)()),e((0,g.RR)(r.data)))}catch(e){}};return(0,i.useEffect)(()=>{r&&s()},[r,e]),(0,t.jsxs)("button",{className:"w-[60px] h-[50px] cursor-pointer p-3 bg-gradient-to-b from-orange-300 to-orange-500 hover:from-orange-400 hover:to-orange-600 shadow-md rounded-lg flex flex-col items-center",onClick:s,children:[(0,t.jsx)("p",{className:"text-sm font-bold text-white shadow-text",children:"Custom"}),(0,t.jsx)("p",{className:"text-[10px] font-normal text-white shadow-text",children:" Foods"})]})},v=(0,m.$)("367dc209dd2fdf097b31f5b71e50ba108ae3f123"),y=()=>{let e=(0,x.TL)(),r=async()=>{try{let r=await v();if("error"in r){e((0,c.fz)({message:r.error,type:"error"})),setTimeout(()=>e((0,c.Qu)()),3e3);return}"message"in r&&(e((0,g.bI)()),e((0,g.RR)(r.data)))}catch(e){}};return(0,t.jsxs)("button",{className:"w-[60px] h-[50px] cursor-pointer p-2 bg-gradient-to-b from-yellow-300 to-yellow-500 hover:from-yellow-400 hover:to-yellow-600 shadow-md rounded-lg flex flex-col items-center",onClick:r,children:[(0,t.jsx)("p",{className:"text-[8px] font-normal text-white",children:"Choose from"}),(0,t.jsx)("p",{className:"text-xs font-bold text-white shadow-text",children:"History"})]})},j=s(4839),w=s(1942),N=(0,m.$)("6a87c37439f4089f529f7fabd394372ee953399e"),_=s(4646);let C=o.Ry().shape({name:o.Z_().max(30,"Name must be less than 30 characters").required("Name is required!"),cal:o.Rx().min(1,"Calories must be greater than 0").required("Calories are required!"),g_per_serving:o.Rx().nullable(),carb:o.Rx().min(0,"Value must be 0 or greater").required("Carb is required"),fat:o.Rx().min(0,"Value must be 0 or greater").required("Fat is required"),protein:o.Rx().min(0,"Value must be 0 or greater").required("Protein is required"),sugars:o.Rx().min(0,"Value must be 0 or greater").required("Sugars is required"),dietary_fiber:o.Rx().min(0,"Value must be 0 or greater").required("Dietary fiber is required"),salt:o.Rx().min(0,"Value must be 0 or greater").required("Salt is required"),sodium:o.Rx().min(0,"Value must be 0 or greater").required("Sodium is required"),potassium:o.Rx().min(0,"Value must be 0 or greater").required("Potassium is required"),calcium:o.Rx().min(0,"Value must be 0 or greater").required("Calcium is required"),magnesium:o.Rx().min(0,"Value must be 0 or greater").required("Magnesium is required"),iron:o.Rx().min(0,"Value must be 0 or greater").required("Iron is required"),zinc:o.Rx().min(0,"Value must be 0 or greater").required("Zinc is required"),vitamin_a:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin A is required"),vitamin_d:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin D is required"),vitamin_e:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin E is required"),vitamin_b1:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin B1 is required"),vitamin_b2:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin B2 is required"),vitamin_b12:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin B12 is required"),vitamin_b6:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin B6 is required"),vitamin_c:o.Rx().min(0,"Value must be 0 or greater").required("Vitamin C is required"),niacin:o.Rx().min(0,"Value must be 0 or greater").required("Niacin is required"),cholesterol:o.Rx().min(0,"Value must be 0 or greater").required("Cholesterol is required"),saturated_fat:o.Rx().min(0,"Value must be 0 or greater").required("Saturated fat is required"),polyunsaturated_fat:o.Rx().min(0,"Value must be 0 or greater").required("Polyunsaturated fat is required"),monounsaturated_fat:o.Rx().min(0,"Value must be 0 or greater").required("Monounsaturated fat is required")});function F(){let e=(0,x.TL)(),[r,s]=(0,i.useState)(!1),[a,n]=(0,i.useState)(!1),l=(0,d.TA)({initialValues:{name:"",cal:1,g_per_serving:null,carb:0,fat:0,protein:0,sugars:0,dietary_fiber:0,salt:0,sodium:0,potassium:0,calcium:0,magnesium:0,iron:0,zinc:0,vitamin_a:0,vitamin_d:0,vitamin_e:0,vitamin_b1:0,vitamin_b2:0,vitamin_b12:0,vitamin_b6:0,vitamin_c:0,niacin:0,cholesterol:0,saturated_fat:0,polyunsaturated_fat:0,monounsaturated_fat:0},validationSchema:C,onSubmit:async r=>{try{e((0,_.ly)(!0));let t=await N(r);"error"in t?(e((0,c.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,c.Qu)()),4e3)):"message"in t&&(e((0,c.fz)({message:t.message,type:"success"})),setTimeout(()=>e((0,c.Qu)()),3e3),s(!1))}catch(r){e((0,c.fz)({message:"An error occurred while creating the custom food.",type:"error"})),setTimeout(()=>e((0,c.Qu)()),3e3)}finally{e((0,_.ly)(!1))}}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{className:"flex items-center px-3 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-400 to-orange-600 rounded-md shadow hover:from-orange-500 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",onClick:()=>s(!0),children:[(0,t.jsx)(w.wEH,{className:"mr-1"}),"Create Custom Item"]}),r&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto flex justify-center items-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 transition-opacity",children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,t.jsxs)("div",{className:"relative z-50 bg-white rounded-lg w-full max-w-lg p-6 mx-4 my-8",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold leading-9 tracking-tight mb-4",children:"Create Custom Food"}),(0,t.jsx)("p",{className:"text-sm mb-2 text-red-600",children:"Note: Please ensure the nutritional information is accurate."}),(0,t.jsxs)("form",{onSubmit:l.handleSubmit,className:"h-[510px] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Name *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:l.values.name,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.name&&l.errors.name}),autoComplete:"off"}),l.errors.name&&l.touched.name&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"cal",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Calories *"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"cal",name:"cal",value:l.values.cal,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.cal&&l.errors.cal}),autoComplete:"off"}),l.errors.cal&&l.touched.cal&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.cal})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"g_per_serving",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Grams per Serving"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"g_per_serving",name:"g_per_serving",value:l.values.g_per_serving||"",onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.g_per_serving&&l.errors.g_per_serving}),autoComplete:"off"}),l.errors.g_per_serving&&l.touched.g_per_serving&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.g_per_serving})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"carb",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Carbs (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"carb",name:"carb",value:l.values.carb,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.carb&&l.errors.carb}),autoComplete:"off"}),l.errors.carb&&l.touched.carb&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.carb})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"fat",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Fat (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"fat",name:"fat",value:l.values.fat,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.fat&&l.errors.fat}),autoComplete:"off"}),l.errors.fat&&l.touched.fat&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.fat})]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:"protein",className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:"Protein (g)"}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:"protein",name:"protein",value:l.values.protein,onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched.protein&&l.errors.protein}),autoComplete:"off"}),l.errors.protein&&l.touched.protein&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors.protein})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",className:"mt-2 mb-1 text-sm font-medium text-blue-500 underline hover:text-blue-700 focus:outline-none",onClick:()=>n(!a),children:a?"Hide Other Nutrients":"Show Other Nutrients"})}),a&&(0,t.jsx)(t.Fragment,{children:["sugars","dietary_fiber","salt","sodium","potassium","calcium","magnesium","iron","zinc","vitamin_a","vitamin_d","vitamin_e","vitamin_b1","vitamin_b2","vitamin_b12","vitamin_b6","vitamin_c","niacin","cholesterol","saturated_fat","polyunsaturated_fat","monounsaturated_fat"].map(e=>(0,t.jsxs)("div",{className:"flex items-center mt-4",children:[(0,t.jsx)("label",{htmlFor:e,className:"block text-sm font-medium leading-6 text-gray-900 w-1/3",children:e.replace(/_/g," ").toUpperCase()}),(0,t.jsxs)("div",{className:"w-2/3",children:[(0,t.jsx)("input",{type:"number",id:e,name:e,value:null!==l.values[e]&&void 0!==l.values[e]?l.values[e]:"",onChange:l.handleChange,onBlur:l.handleBlur,className:(0,j.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":l.touched[e]&&l.errors[e]}),autoComplete:"off"}),l.touched[e]&&l.errors[e]&&(0,t.jsx)("p",{className:"text-red-500 text-xs",children:l.errors[e]})]})]},e))}),(0,t.jsx)("section",{className:"w-full flex flex-col gap-y-3 justify-start items-end lg:items-center lg:flex-row lg:gap-y-0 lg:justify-between",children:(0,t.jsx)("button",{type:"submit",className:"flex w-full order-1 lg:order-2 lg:w-fit justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:"Create"})})]}),(0,t.jsx)("button",{className:"absolute top-4 right-4 bg-gray-300 text-gray-700 p-1 rounded-full text-xs",onClick:()=>s(!1),children:"✕"})]})]})]})}var V=()=>(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 1: Search for Food"})}),(0,t.jsx)(f,{}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(p,{})}),(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(y,{})})]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(F,{})})})]}),k=s(4379),S=s.n(k),q=s(6356),T=(0,m.$)("82dde3b48fab94c911a9f98f3bb8c59a069ede72"),R=e=>{let{id:r}=e,s=(0,x.TL)();return(0,t.jsx)("div",{className:"flex items-center gap-x-2 p-2",children:(0,t.jsx)("button",{className:"hover:text-red-800 transition",onClick:()=>{S().fire({title:"Are you sure?",text:"This action will delete the food and all associated meals. Do you really want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"gray",confirmButtonText:"Yes, delete it!"}).then(async e=>{if(e.isConfirmed)try{s((0,_.Tr)(!0)),s((0,_.ly)(!0));let e=await T(r);"error"in e?s((0,c.fz)({message:e.error,type:"error"})):"detail"in e?s((0,c.fz)({message:e.detail,type:"error"})):"message"in e&&s((0,c.fz)({message:e.message,type:"success"}))}catch(e){s((0,c.fz)({message:"An error occurred while deleting the food.",type:"error"}))}finally{s((0,c.Qu)()),s((0,_.Tr)(!1)),s((0,_.ly)(!1))}})},children:(0,t.jsx)(q.I0,{size:15})})})},B=()=>{let e=(0,x.TL)(),r=(0,x.CG)(e=>e.food_meal.select_food_list),s=r=>{"food_id"in r?(e((0,g.km)(r)),e((0,g.Fe)())):(e((0,g.x9)(r)),e((0,g.zo)()))};return(0,t.jsx)(t.Fragment,{children:r&&(0,t.jsx)("div",{className:"lg:mx-auto lg:w-full lg:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white border border-gray-300 rounded-md",children:[(0,t.jsx)("div",{className:"bg-green-100 px-4 py-2 text-left text-xs font-medium text-gray-500 rounded-t-md",children:"Select Menu"}),(0,t.jsx)("div",{className:"flex flex-col h-56 overflow-y-auto",children:r.length>0?(0,t.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,t.jsx)("tr",{className:"hover:bg-gray-100 cursor-pointer",children:(0,t.jsxs)("td",{className:"px-2 py-2 text-sm text-gray-900 truncate max-w-xs flex items-center",title:e.name,onClick:()=>s(e),children:[(0,t.jsxs)("span",{className:"font-semibold",children:[e.name," "]}),"food_id"in e?(0,t.jsxs)("span",{children:[" ",e.brand_name&&(0,t.jsxs)(t.Fragment,{children:["(",e.brand_name,")"]})]}):(0,t.jsx)(R,{id:e.id})]})},e.id))})}):(0,t.jsx)("p",{className:"text-gray-500 p-4",children:"No food yet"})})]})})})},z=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 2: Select Foods for Your Meal"})}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(B,{})})]})},M=s(6463),Z=(0,m.$)("813f4d442d2c9b92710ddf1212296598abc28c6a");let Q=o.Ry().shape({grams:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),E={grams:null,servings:1};var P=e=>{var r,s;let{date:a,meal_type:n}=e;(0,M.useRouter)();let l=(0,x.TL)(),o=(0,x.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.used_food}),[m,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),b=(0,x.CG)(e=>e.load.custom_food_loading);(0,i.useEffect)(()=>{l((0,g.Fe)())},[b]);let p=(0,d.TA)({initialValues:E,validationSchema:Q,onSubmit:async e=>{if(o)try{l((0,_.Tr)(!0)),l((0,_.yP)(!0));let r=await Z({...e,food:o.id,date:a,meal_type:n});"error"in r?(l((0,c.fz)({message:r.error,type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3)):"message"in r&&(l((0,c.fz)({message:r.message,type:"success"})),setTimeout(()=>l((0,c.Qu)()),4e3),l((0,g.Fe)()))}catch(e){l((0,c.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3)}finally{l((0,_.Tr)(!1)),l((0,_.yP)(!1))}else{l((0,c.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3);return}}}),v=e=>{"custom"===e?f(!h):(p.setFieldValue("servings",e),p.setFieldValue("grams",null),u(!1))};return(0,t.jsx)(t.Fragment,{children:o&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsx)("div",{className:"text-gray-700 font-medium items-start text-base",children:o.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(o.protein)," g F: ",Math.round(o.fat)," g C: ",Math.round(o.carb)," g (",Math.round(o.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:p.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[o.g_per_serving?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,j.Z)(m?"block":"hidden"),children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;p.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&p.setFieldValue("servings",null)},onBlur:p.handleBlur,value:null!==(r=p.values.grams)&&void 0!==r?r:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"})]}),p.touched.grams&&p.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:p.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,j.Z)(m?"hidden":"block"),children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:[.25,.5,.75,1,1.5,2,3].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>v(e),className:(0,j.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",p.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>v("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;p.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&p.setFieldValue("grams",null)},onBlur:p.handleBlur,value:null!==(s=p.values.servings)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (servings)"})]})]}),p.touched.servings&&p.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:p.errors.servings}):null]})]}),o.g_per_serving?(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{u(!m),m?(p.setFieldValue("grams",null),p.setFieldValue("servings",null)):(p.setFieldValue("grams",null),p.setFieldValue("servings",1),f(!1))},children:m?"Input by Servings":"Input by Grams"})}):null,(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})};let G=o.Ry().shape({grams:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})}),I={grams:null,servings:null};var A=e=>{var r,s;let{date:a,meal_type:n}=e;(0,M.useRouter)();let l=(0,x.TL)(),o=(0,x.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.used_fatsecret_food}),[m,u]=(0,i.useState)(!1),h=(0,d.TA)({initialValues:I,validationSchema:G,onSubmit:async e=>{if(o)try{l((0,_.Tr)(!0)),l((0,_.yP)(!0));let r=await Z({...e,fat_secret_food:o.id,date:a,meal_type:n});"error"in r?(l((0,c.fz)({message:r.error,type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3)):"message"in r&&(l((0,c.fz)({message:r.message,type:"success"})),setTimeout(()=>l((0,c.Qu)()),4e3),l((0,g.zo)()))}catch(e){l((0,c.fz)({message:"An error occurred while registering the meal.",type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3)}finally{l((0,_.Tr)(!1)),l((0,_.yP)(!1))}else{l((0,c.fz)({message:"You need to choose food.",type:"error"})),setTimeout(()=>l((0,c.Qu)()),3e3);return}}}),f=e=>{"custom"===e?u(!m):(h.setFieldValue("servings",e),h.setFieldValue("grams",null),u(!1))};return(0,t.jsx)(t.Fragment,{children:o&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium items-start text-base",children:[o.name,o.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",o.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",o.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(o.protein)," g F: ",Math.round(o.fat)," g C: ",Math.round(o.carb)," g (",Math.round(o.cal)," kcal) / ",o.unit]})]}),(0,t.jsxs)("form",{onSubmit:h.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsx)("div",{children:"100g"===o.unit?(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:e=>{let r=e.target.value;h.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&h.setFieldValue("servings",null)},onBlur:h.handleBlur,value:null!==(r=h.values.grams)&&void 0!==r?r:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),h.touched.grams&&h.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:h.errors.grams}):null]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2 ",children:[.25,.5,.75,1,1.5,2,3].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>f(e),className:(0,j.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",h.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>f("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:e=>{let r=e.target.value;h.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&h.setFieldValue("grams",null)},onBlur:h.handleBlur,value:null!==(s=h.values.servings)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",o.unit,")"]})]})]}),h.touched.servings&&h.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:h.errors.servings}):null]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Register Meal"})})]})]})})},L=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Step 3: Register Your Meal"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(P,{date:r,meal_type:s}),(0,t.jsx)(A,{date:r,meal_type:s})]})]})},$=s(8322),D=s(6037),Y=e=>{let{date:r,meal_type:s}=e,a=(0,x.TL)(),[n,l]=(0,i.useState)([]),d=(0,x.CG)(e=>e.load.meal_loading);(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,$.x)(r,s);if("error"in e){a((0,c.fz)({message:e.error,type:"error"})),setTimeout(()=>a((0,c.Qu)()),3e3);return}"message"in e&&l(e.data)}catch(e){}})()},[d]);let o=async e=>{a((0,g.GA)(e)),(0,g.Fe)()},m=n.reduce((e,r)=>e+(r.intake_cal||0),0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"sm:mx-auto md:w-full sm:max-w-sm flex justify-between items-center",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"text-xs mr-2",children:[r,"  "]}),(0,t.jsx)("span",{className:"text-sm font-medium mr-2",children:s}),(0,t.jsxs)("span",{className:"text-sm font-semi-bold",children:["(Total: ",Math.round(m)," kcal)"]})]})}),(0,t.jsx)("div",{className:"lg:mx-auto sm:w-full lg:max-w-sm max-h-[357px] max-md:h-auto overflow-y-auto",children:n.length>0?(0,t.jsxs)("table",{className:"min-w-full divide-y divide-green-200 border border-green-400",children:[(0,t.jsx)("thead",{className:"bg-green-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-2 py-1 text-left text-xs font-medium text-green-800",children:"item"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"amount"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"kcal"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-xs font-medium text-green-800",children:"delete"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-green-200",children:n.map(e=>(0,t.jsxs)("tr",{className:"whitespace-nowrap",children:[(0,t.jsx)("td",{className:"px-2 py-1 text-xs font-medium text-gray-900 w-32",children:(0,t.jsxs)("button",{className:"w-[120px] hover:border-b",onClick:()=>o(e),children:[(0,t.jsx)("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.food&&e.food.name}),(0,t.jsx)("div",{className:"overflow-ellipsis overflow-hidden whitespace-nowrap",children:e.fat_secret_food&&e.fat_secret_food.name})]})}),(0,t.jsx)("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:null!==e.servings?(0,t.jsxs)(t.Fragment,{children:[e.servings,e.food&&" servings",e.fat_secret_food&&" ".concat(e.fat_secret_food.unit)]}):null!==e.grams?"".concat(e.grams," (g)"):"Serving information not available"}),(0,t.jsxs)("td",{className:"px-2 py-1 text-center text-xs text-gray-900",children:[(0,t.jsx)("strong",{children:Math.round(e.intake_cal)})," kcal"]}),(0,t.jsx)("td",{className:"px-2 py-1 text-center text-xs text-red-600",children:(0,t.jsx)(D.Z,{id:e.id})})]},e.id))})]}):(0,t.jsxs)("p",{className:"text-gray-500",children:["No meals recorded for ",s,"."]})})]})},K=(0,m.$)("6970731a6fa653ebb8b0fe3aa1d9c8b58ec5a081");let H=o.Ry().shape({grams:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(1,"Grams must be greater than 0").test("either-grams-or-servings","Either servings or grams must be provided",function(e){let{servings:r}=this.parent;return null!==e||null!==r}),servings:o.Rx().nullable().transform((e,r)=>""===r?null:r).min(.1,"Servings must be greater than 0.1").max(10,"Servings must be less than 10.0").test("either-servings-or-grams","Either servings or grams must be provided",function(e){let{grams:r}=this.parent;return null!==e||null!==r})});var O=()=>{var e,r,s,a,n,l;(0,M.useRouter)();let o=(0,x.TL)(),m=(0,x.CG)(e=>{var r;return null===(r=e.food_meal)||void 0===r?void 0:r.edit_meal}),[u,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),p=(0,x.CG)(e=>e.load.custom_food_loading);(0,i.useEffect)(()=>{o((0,g.Xl)())},[p]);let v={grams:null!==(e=null==m?void 0:m.grams)&&void 0!==e?e:null,servings:null!==(r=null==m?void 0:m.servings)&&void 0!==r?r:1};(0,i.useEffect)(()=>{if(m){var e,r;y.setValues({grams:null!==(e=m.grams)&&void 0!==e?e:null,servings:null!==(r=m.servings)&&void 0!==r?r:null}),m.grams&&!m.servings?h(!0):h(!1)}},[m]);let y=(0,d.TA)({initialValues:v,validationSchema:H,onSubmit:async e=>{if(m)try{o((0,_.Tr)(!0)),o((0,_.yP)(!0));let r=await K(e,m.id);if("error"in r){o((0,c.fz)({message:r.error,type:"error"})),setTimeout(()=>o((0,c.Qu)()),3e3);return}"message"in r&&(o((0,c.fz)({message:r.message,type:"success"})),setTimeout(()=>o((0,c.Qu)()),4e3),o((0,g.Xl)()))}catch(e){o((0,c.fz)({message:"An error occurred while updating the meal.",type:"error"})),setTimeout(()=>o((0,c.Qu)()),3e3)}finally{o((0,_.Tr)(!1)),o((0,_.yP)(!1))}else{o((0,c.fz)({message:"You need to choose meal.",type:"error"})),setTimeout(()=>o((0,c.Qu)()),3e3);return}}}),w=[.25,.5,.75,1,1.5,2,3],N=e=>{let r=e.target.value;y.setFieldValue("grams",""===r?null:parseFloat(r)),""!==r&&y.setFieldValue("servings",null)},C=e=>{let r=e.target.value;y.setFieldValue("servings",""===r?null:parseFloat(r)),""!==r&&y.setFieldValue("grams",null)},F=e=>{"custom"===e?b(!f):(y.setFieldValue("servings",e),y.setFieldValue("grams",null),h(!1))};return(0,t.jsx)(t.Fragment,{children:m&&(0,t.jsxs)("div",{className:"max-w-md mx-auto mt-10 border rounded-lg shadow-md p-4",children:[m.food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsx)("div",{className:"text-gray-700 font-medium items-start text-base",children:m.food.name}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(m.food.protein)," g F: ",Math.round(m.food.fat)," g C: ",Math.round(m.food.carb)," g (",Math.round(m.food.cal)," kcal) / serving"]})]}),(0,t.jsxs)("form",{onSubmit:y.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsxs)("div",{children:[m.food.g_per_serving?(0,t.jsxs)("div",{className:(0,j.Z)(u?"block":"hidden"),children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:N,onBlur:y.handleBlur,value:null!==(s=y.values.grams)&&void 0!==s?s:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),y.touched.grams&&y.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:y.errors.grams}):null]}):null,(0,t.jsxs)("div",{className:(0,j.Z)(u?"hidden":"block"),children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:w.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>F(e),className:(0,j.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",y.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>F("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:C,onBlur:y.handleBlur,value:null!==(a=y.values.servings)&&void 0!==a?a:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsx)("span",{className:"text-[15px]",children:" (servings)"})]})]}),y.touched.servings&&y.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:y.errors.servings}):null]})]}),m.food.g_per_serving?(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button",className:"w-[160px] inline-flex justify-center py-1 px-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{h(!u),u?(y.setFieldValue("grams",null),y.setFieldValue("servings",null)):(y.setFieldValue("grams",null),y.setFieldValue("servings",1),b(!1))},children:u?"Input by Servings":"Input by Grams"})}):null,(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]}),m.fat_secret_food&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-center p-2 bg-green-100 rounded-md",children:[(0,t.jsxs)("div",{className:"text-gray-700 font-medium text-base",children:[m.fat_secret_food.name,m.fat_secret_food.brand_name?(0,t.jsxs)(t.Fragment,{children:[" (",m.fat_secret_food.brand_name,")"]}):(0,t.jsxs)(t.Fragment,{children:[" (",m.fat_secret_food.type,")"]})]}),(0,t.jsxs)("div",{className:"text-gray-500 text-xs",children:["P: ",Math.round(m.fat_secret_food.protein)," g F: ",Math.round(m.fat_secret_food.fat)," g C: ",Math.round(m.fat_secret_food.carb)," g (",Math.round(m.fat_secret_food.cal)," kcal) / ",m.fat_secret_food.unit]})]}),(0,t.jsxs)("form",{onSubmit:y.handleSubmit,className:"space-y-6 mt-4",children:[(0,t.jsx)("div",{children:"100g"===m.fat_secret_food.unit?(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{id:"grams",name:"grams",type:"number",onChange:N,onBlur:y.handleBlur,value:null!==(n=y.values.grams)&&void 0!==n?n:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})," ",(0,t.jsx)("span",{className:"text-[15px]",children:" (g)"}),y.touched.grams&&y.errors.grams?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:y.errors.grams}):null]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:w.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>F(e),className:(0,j.Z)("px-2 py-2 border rounded-md text-[10px] w-[32px]",y.values.servings===e?"bg-green-500 text-white":"bg-white text-green-500 border-green-500"),children:e},e))}),(0,t.jsxs)("div",{className:"flex mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>F("custom"),className:"w-[100px] px-2 py-1 border rounded-md text-[10px] bg-white text-green-500 border-green-500 mr-2",children:"Input manually"}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{id:"servings",name:"servings",type:"number",onChange:C,onBlur:y.handleBlur,value:null!==(l=y.values.servings)&&void 0!==l?l:"",className:"w-[100px] px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),(0,t.jsxs)("span",{className:"text-[15px]",children:[" (",m.fat_secret_food.unit,")"]})]})]}),y.touched.servings&&y.errors.servings?(0,t.jsx)("div",{className:"text-red-600 text-sm",children:y.errors.servings}):null]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Edit Meal"})})]})]})]})})},X=e=>{let{date:r,meal_type:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto p-4 bg-white rounded-lg shadow-md space-y-4 max-md:mt-3",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h2",{className:"text-base font-semibold",children:"Manage Your Meals"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(Y,{date:r,meal_type:s}),(0,t.jsx)(O,{})]})]}),(0,t.jsx)("hr",{})]})},U=s(9796),W=s(1394),J=e=>{let{params:{meal_type:r,date:s}}=e,i=(0,a.W6)(),d=(0,a._Y)(new Date);d.setDate(d.getDate()+2);let o=(0,a.kh)(d,"yyyy-MM-dd"),m=/^\d{4}-\d{2}-\d{2}$/.test(s)&&!isNaN(Date.parse(s))&&s<=o?s:i,u=["Breakfast","Lunch","Dinner","Snack"].includes(r)?r:"Breakfast";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,{date:m}),(0,t.jsx)(l.Z,{date:m}),(0,t.jsx)(n.Z,{date:m}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex w-5/6 max-lg:w-full max-lg:flex-col-reverse",children:[(0,t.jsxs)("div",{className:"w-1/2 max-lg:w-full",children:[(0,t.jsx)(V,{}),(0,t.jsx)(z,{date:m,meal_type:u}),(0,t.jsx)(L,{date:m,meal_type:u})]}),(0,t.jsxs)("div",{className:"lg:hidden flex ",children:[(0,t.jsx)("div",{className:"w-1/3 max-sm:w-1/2 h-[180px] border",children:(0,t.jsx)(W.Z,{})}),(0,t.jsx)("div",{className:"w-1/3 max-sm:w-1/2 h-[180px] border",children:(0,t.jsx)(W.Z,{})})]}),(0,t.jsx)("div",{className:"w-1/2 max-lg:w-full",children:(0,t.jsx)(X,{date:m,meal_type:u})})]}),(0,t.jsxs)("div",{className:"w-1/6 ml-4 max-lg:hidden ",children:[(0,t.jsx)("div",{className:"h-[200px] w-[200px] border",children:(0,t.jsx)(W.Z,{})}),(0,t.jsx)("div",{className:"h-[200px] w-[200px] border",children:(0,t.jsx)(W.Z,{})}),(0,t.jsx)("div",{className:"h-[200px] w-[200px] border",children:(0,t.jsx)(W.Z,{})})]})]}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-1/3 h-[180px] max-sm:w-1/2 border",children:(0,t.jsx)(W.Z,{})}),(0,t.jsx)("div",{className:"w-1/3 h-[180px] max-sm:w-1/2 border",children:(0,t.jsx)(W.Z,{})})]})]})}},8322:function(e,r,s){"use strict";s.d(r,{x:function(){return t}}),s(4590);var t=(0,s(8064).$)("be89e7bb6617af0a23ae48cefc188e6cf334430c")},6037:function(e,r,s){"use strict";s.d(r,{Z:function(){return m}});var t=s(7437);s(2265);var a=s(8354),n=s(4297);s(4590);var l=(0,s(8064).$)("6bf7eb2f2329e353b8b07e51af6396a40d5b7b8e"),i=s(4646),d=s(4459),o=s(6356),m=e=>{let{id:r}=e,s=(0,n.TL)(),m=async()=>{try{s((0,i.Tr)(!0));let e=await l(r);if("error"in e){s((0,a.fz)({message:e.error,type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3);return}if("detail"in e){s((0,a.fz)({message:e.detail,type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3);return}"message"in e&&(s((0,a.fz)({message:e.message,type:"success"})),setTimeout(()=>s((0,a.Qu)()),3e3),s((0,d.Xl)()))}catch(e){s((0,a.fz)({message:"An error occurred while deleting the meal.",type:"error"})),setTimeout(()=>s((0,a.Qu)()),3e3)}finally{s((0,i.Tr)(!1))}};return(0,t.jsx)("div",{className:"flex items-center gap-x-2 p-2 ",children:(0,t.jsx)("button",{className:"hover:text-red-800 transition",onClick:m,children:(0,t.jsx)(o.I0,{size:15})})})}}},function(e){e.O(0,[7699,6051,9461,7123,4349,8048,5470,2971,7023,1744],function(){return e(e.s=3661)}),_N_E=e.O()}]);