(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6590],{3669:function(e,t,r){Promise.resolve().then(r.bind(r,7723))},8064:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let n=r(4590);function s(e){let{createServerReference:t}=r(6671);return t(e,n.callServer)}},7723:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n,s=r(7437),l=r(2265),o="https://js.stripe.com/v3",i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o,'"]')),t=0;t<e.length;t++){var r=e[t];if(i.test(r.src))return r}return null},c=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(o).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},u=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"3.5.0",startTime:t})},d=null,m=null,f=null,x=function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return u(n,r),n},h=!1,p=function(){return n||(n=(null!==d?d:(d=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,n=a();n?n&&null!==f&&null!==m&&(n.removeEventListener("load",f),n.removeEventListener("error",m),null===(r=n.parentNode)||void 0===r||r.removeChild(n),n=c(null)):n=c(null),f=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},m=function(){t(Error("Failed to load Stripe.js"))},n.addEventListener("load",f),n.addEventListener("error",m)}catch(e){t(e);return}})).catch(function(e){return d=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)}))};Promise.resolve().then(function(){return p()}).catch(function(e){h||console.warn(e)});var y=r(1422);if(!y.Yw)throw Error("Stripe public key is not defined");let b=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h=!0;var n=Date.now();return p().then(function(e){return x(e,t,n)})}(y.Yw),g=async e=>{let t=await b,{error:r}=await t.redirectToCheckout({sessionId:e});r&&console.error("Error:",r)};r(4590);var _=r(8064),w=(0,_.$)("40a5e5e5d5950d3dd4d662df45cfef8ee4bb7947"),j=r(4297),v=r(8354),P=r(4839),N=e=>{let{itemLicense:t,itemPeriod:r,label:n}=e,l=(0,j.TL)(),o=async()=>{try{let e=await w({item_license:t,item_period:r});"id"in e?g(e.id):"error"in e&&(l((0,v.fz)({message:e.error,type:"error"})),setTimeout(()=>l((0,v.Qu)()),3e3))}catch(e){l((0,v.fz)({message:"An error occurred.",type:"error"})),setTimeout(()=>l((0,v.Qu)()),3e3)}};return(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("button",{onClick:o,className:(0,P.Z)("m-4 p-2 rounded-lg shadow-lg hover:scale-105 text-black font-bold","premium"===t&&"bg-gradient-to-r from-gray-200 to-gray-400","premium_plus"===t&&"bg-gradient-to-r from-yellow-400 to-yellow-600","premium_plus"===t&&"yearly"===r&&"border m-2"),children:n}),"premium_plus"===t&&"yearly"===r&&(0,s.jsx)("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold px-1 py-0.5 rounded-bl-lg",children:"Best Value"})]})},S=r(4379),k=r.n(S),E=(0,_.$)("f2353a007d72688dc706e66979c6696e7c66dc94"),L=()=>{let e=(0,j.TL)(),t=async()=>{try{let t=await E();if("error"in t){e((0,v.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,v.Qu)()),3e3);return}"message"in t&&(e((0,v.fz)({message:t.message,type:"success"})),setTimeout(()=>e((0,v.Qu)()),3e3),setTimeout(()=>{window.location.reload()},3e3))}catch(t){e((0,v.fz)({message:"Some error happened.",type:"error"})),setTimeout(()=>e((0,v.Qu)()),3e3)}};return(0,s.jsx)("button",{className:"w-[200px] h-[30px] cursor-pointer p-1 bg-red-500 hover:bg-red-600 rounded-lg items-center",onClick:()=>{k().fire({title:"Are you sure?",text:"Do you really want to stop your subscription? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"gray",confirmButtonText:"Yes, stop it!"}).then(e=>{e.isConfirmed&&t()})},children:(0,s.jsx)("p",{className:"text-sm font-bold text-white shadow-text",children:"Stop my subscription"})})},T=r(4818),C=()=>{let e=(0,j.TL)(),[t,r]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let t=await (0,T.g)();if("error"in t){e((0,v.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,v.Qu)()),3e3);return}"message"in t&&r(t.data)}catch(e){}})()},[e]),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(()=>{if(t)switch(t.license_type){case"free":return(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md border border-gray-300",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Current Plan: ",(0,s.jsx)("span",{className:"my-1 rounded-lg p-2 bg-gradient-to-r from-orange-600 to-rose-800 text-white",children:"Free"})]}),(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:"You are currently on the Free plan."})]})});case"premium":return(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md border border-blue-300",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-blue-800 mb-4",children:["Current Plan: ",(0,s.jsx)("span",{className:"my-1 text-black rounded-lg p-2 bg-gradient-to-r from-gray-200 to-gray-400",children:"Premium"})]}),(0,s.jsxs)("p",{className:"text-blue-700 mb-4",children:["You are currently on the Premium plan (","yearly"===t.billing_period?"$66/year":"$6.6/month",")."]}),(0,s.jsxs)("p",{className:"text-blue-700 mb-4",children:["Start Date: ",t.start_date]}),t.is_subscription_active?(0,s.jsxs)("div",{className:"text-center flex items-center max-sm:flex-col",children:[(0,s.jsx)(L,{}),(0,s.jsx)("a",{href:"/dashboard",className:"text-blue-500 hover:underline text-sm ml-4",children:"go back to dashboard"})]}):(0,s.jsxs)("p",{className:"text-blue-700 mb-4",children:["End Date: ",t.end_date," (Subscription Canceled)"]})]})});case"premium_plus":return(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md border border-yellow-300",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-yellow-800 mb-4",children:["Current Plan: ",(0,s.jsx)("span",{className:"my-1 rounded-lg p-2 text-black bg-gradient-to-r from-yellow-400 to-yellow-600",children:"Premium+"})]}),(0,s.jsxs)("p",{className:"text-yellow-700 mb-4",children:["You are currently on the Premium+ plan (","yearly"===t.billing_period?"$99/year":"$9.9/month",")."]}),(0,s.jsxs)("p",{className:"text-yellow-700 mb-4",children:["Start Date: ",t.start_date]}),t.is_subscription_active?(0,s.jsxs)("div",{className:"text-center flex items-center max-sm:flex-col",children:[(0,s.jsx)(L,{}),(0,s.jsx)("a",{href:"/dashboard",className:"text-blue-500 hover:underline text-sm ml-4",children:"go back to dashboard"})]}):(0,s.jsxs)("p",{className:"text-yellow-700 mb-4",children:["End Date: ",t.end_date," (Subscription Canceled)"]})]})})}return null})(),t&&"free"===t.license_type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md border border-gray-300",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Premium Plan"}),(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:"The premium features will be as follows:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside mb-4",children:[(0,s.jsx)("li",{className:"text-gray-700",children:'The "Often" feature allows you to register frequently used foods and activities'}),(0,s.jsx)("li",{className:"text-gray-700",children:'The "Latest" feature allows you to reuse the latest records'}),(0,s.jsx)("li",{className:"text-gray-700",children:'The "Set" feature allows you to pre-set meals and exercises, recording them with a single click'})]}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Pricing"}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium",itemPeriod:"monthly",label:"Subscribe to Premium Monthly - $6.6/month"})}),(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium",itemPeriod:"yearly",label:"Subscribe to Premium Yearly - $66/year"})})]})]})}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-yellow-100 rounded-lg shadow-md border border-yellow-300",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-yellow-800 mb-4",children:"Premium+ Plan"}),(0,s.jsx)("p",{className:"text-yellow-700 mb-4",children:"By subscribing to the Premium＋ Plan, you can unlock and grow multiple monsters in addition to the features of the Premium Plan!"}),(0,s.jsx)("p",{className:"text-yellow-700 mb-4",children:"Enjoy all the Premium Plan features, plus:"}),(0,s.jsx)("ul",{className:"list-disc list-inside mb-4",children:(0,s.jsx)("li",{className:"text-yellow-700",children:"Unlock and grow multiple monsters"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-yellow-800",children:"Pricing"}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium_plus",itemPeriod:"monthly",label:"Subscribe to Premium+ Monthly - $9.9/month"})}),(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium_plus",itemPeriod:"yearly",label:"Subscribe to Premium+ Yearly - $99/year"})})]})]})})]}),t&&"premium"===t.license_type&&(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"p-6 bg-yellow-100 rounded-lg shadow-md border border-yellow-300",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-yellow-800 mb-4",children:"Premium+ Plan"}),(0,s.jsx)("p",{className:"text-yellow-700 mb-4",children:"By subscribing to the Premium＋ Plan, you can unlock and grow multiple monsters in addition to the features of the Premium Plan!"}),(0,s.jsx)("p",{className:"text-yellow-700 mb-4",children:"Enjoy all the Premium Plan features, plus:"}),(0,s.jsx)("ul",{className:"list-disc list-inside mb-4",children:(0,s.jsx)("li",{className:"text-yellow-700",children:"Unlock and grow multiple monsters"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-yellow-800",children:"Pricing"}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium_plus",itemPeriod:"monthly",label:"Subscribe to Premium+ Monthly - $9.9/month"})}),(0,s.jsx)("div",{children:(0,s.jsx)(N,{itemLicense:"premium_plus",itemPeriod:"yearly",label:"Subscribe to Premium+ Yearly - $99/year"})})]})]})})]})}},4818:function(e,t,r){"use strict";r.d(t,{g:function(){return n}}),r(4590);var n=(0,r(8064).$)("daa22de9bf9c0c80b16f4086db22822116b64052")},1422:function(e,t,r){"use strict";r.d(t,{Yw:function(){return s},wL:function(){return n}});let n="990098268270-qu8llv8qmu44i9fpne01u2ugj8fg4j5r.apps.googleusercontent.com",s="'pk_live_51PUhFK08HSrizKfhEs0uCBtk3GYZsDDYgrfC3GSbw7NDq0Yx9i5ytb3jaJejAmnAbVE7l6jc1lvORjNcta3eS9yj00ZJW7whIC'STRIPE_PRICE_ID_PREMIUM_MONTH=price_1PWQ5f08HSrizKfhBQ3JiB1x"},2808:function(e,t,r){"use strict";var n=r(7437),s=r(1444),l=r(4297);t.default=e=>{let{children:t}=e;return(0,n.jsx)(s.zt,{store:l.w_,children:t})}},4297:function(e,t,r){"use strict";r.d(t,{w_:function(){return p},TL:function(){return y},CG:function(){return b}});var n=r(1444),s=r(9753),l=r(8440),o=r(8354),i=r(4459),a=r(4646),c=r(5585);let u=(0,s.oM)({name:"food_meal",initialState:{date:null},reducers:{setDate:(e,t)=>{e.date=t.payload},resetDate:e=>{e.date=null}}}),{setDate:d,resetDate:m}=u.actions;var f=u.reducer,x=r(2072),h=r(2035);r(2808);let p=(0,s.xC)({reducer:{toast:o.ZP,auth:l.ZP,food_meal:i.ZP,load:a.ZP,workout_exercise:c.ZP,date:f,latest_weight:x.ZP,license:h.ZP}}),y=n.I0,b=n.v9},8440:function(e,t,r){"use strict";r.d(t,{Li:function(){return l},QV:function(){return s}});let n=(0,r(9753).oM)({name:"auth",initialState:{account:null},reducers:{setAuth:(e,t)=>{e.account={id:t.payload.id,nickname:t.payload.nickname,username:t.payload.username}},resetAuth:e=>{e.account=null}}}),{setAuth:s,resetAuth:l}=n.actions;t.ZP=n.reducer},5585:function(e,t,r){"use strict";r.d(t,{AW:function(){return u},Gt:function(){return l},H3:function(){return f},N8:function(){return s},QK:function(){return d},c0:function(){return a},mE:function(){return i},nY:function(){return o},nw:function(){return m},zO:function(){return c}});let n=(0,r(9753).oM)({name:"workout_exercise",initialState:{used_workout:null,edit_exercise:null,select_workout_list:null,exercise_set_list:null,edit_exercise_pre:null},reducers:{setUsedWorkout:(e,t)=>{e.used_workout=t.payload},resetUsedWorkout:e=>{e.used_workout=null},setEditExercise:(e,t)=>{e.edit_exercise=t.payload},resetEditExercise:e=>{e.edit_exercise=null},setSelectWorkoutList:(e,t)=>{e.select_workout_list=t.payload},resetSelectWorkoutList:e=>{e.select_workout_list=null},setExerciseSetList:(e,t)=>{e.exercise_set_list=t.payload},resetExerciseSetList:e=>{e.exercise_set_list=null},setEditExercisePre:(e,t)=>{e.edit_exercise_pre=t.payload},resetEditExercisePre:e=>{e.edit_exercise_pre=null}}}),{setUsedWorkout:s,resetUsedWorkout:l,setEditExercise:o,resetEditExercise:i,setSelectWorkoutList:a,resetSelectWorkoutList:c,setExerciseSetList:u,resetExerciseSetList:d,setEditExercisePre:m,resetEditExercisePre:f}=n.actions;t.ZP=n.reducer},2072:function(e,t,r){"use strict";r.d(t,{HW:function(){return s}});let n=(0,r(9753).oM)({name:"latest_weight",initialState:{latest_weight:null},reducers:{setLatestWeight:(e,t)=>{e.latest_weight=t.payload},resetLatestweight:e=>{e.latest_weight=null}}}),{setLatestWeight:s,resetLatestweight:l}=n.actions;t.ZP=n.reducer},2035:function(e,t,r){"use strict";r.d(t,{BE:function(){return s}});let n=(0,r(9753).oM)({name:"license",initialState:{license:null},reducers:{setLicense:(e,t)=>{e.license=t.payload},resetLicense:e=>{e.license=null}}}),{setLicense:s,resetLicense:l}=n.actions;t.ZP=n.reducer},4646:function(e,t,r){"use strict";r.d(t,{Dv:function(){return f},OV:function(){return c},RO:function(){return m},Tr:function(){return s},ex:function(){return a},lc:function(){return u},ly:function(){return i},mH:function(){return d},wO:function(){return l},yP:function(){return o}});let n=(0,r(9753).oM)({name:"loading",initialState:{meal_loading:!1,often_food_loading:!1,history_food_loading:!1,custom_food_loading:!1,exercise_loading:!1,history_workout_loading:!1,custom_workout_loading:!1,often_workout_loading:!1,monster_loading:!1,set_loading:!1},reducers:{setMealLoading:(e,t)=>{e.meal_loading=t.payload},setOftenFoodLoading:(e,t)=>{e.often_food_loading=t.payload},setHistoryFoodLoading:(e,t)=>{e.history_food_loading=t.payload},setCustomFoodLoading:(e,t)=>{e.custom_food_loading=t.payload},setExerciseLoading:(e,t)=>{e.exercise_loading=t.payload},setHistoryWorkoutLoading:(e,t)=>{e.history_workout_loading=t.payload},setCustomWorkoutLoading:(e,t)=>{e.custom_workout_loading=t.payload},setOftenWorkoutLoading:(e,t)=>{e.often_workout_loading=t.payload},setMonsterLoading:(e,t)=>{e.monster_loading=t.payload},setSetLoading:(e,t)=>{e.set_loading=t.payload}}}),{setMealLoading:s,setOftenFoodLoading:l,setHistoryFoodLoading:o,setCustomFoodLoading:i,setExerciseLoading:a,setCustomWorkoutLoading:c,setHistoryWorkoutLoading:u,setOftenWorkoutLoading:d,setMonsterLoading:m,setSetLoading:f}=n.actions;t.ZP=n.reducer},4459:function(e,t,r){"use strict";r.d(t,{Fe:function(){return l},GA:function(){return o},Go:function(){return x},Jo:function(){return h},RR:function(){return u},Td:function(){return m},Xl:function(){return i},bI:function(){return f},km:function(){return a},wc:function(){return d},x9:function(){return s},zo:function(){return c}});let n=(0,r(9753).oM)({name:"food_meal",initialState:{used_food:null,edit_meal:null,used_fatsecret_food:null,select_food_list:null,meal_set_list:null,edit_meal_pre:null},reducers:{setUsedFood:(e,t)=>{e.used_food=t.payload},resetUsedFood:e=>{e.used_food=null},setEditMeal:(e,t)=>{e.edit_meal=t.payload},resetEditMeal:e=>{e.edit_meal=null},setUsedFatSecretFood:(e,t)=>{e.used_fatsecret_food=t.payload},resetUsedFatSecretFood:e=>{e.used_fatsecret_food=null},setSelectFoodList:(e,t)=>{e.select_food_list=t.payload},resetSelectFoodList:e=>{e.select_food_list=null},setMealSetList:(e,t)=>{e.meal_set_list=t.payload},resetMealSetList:e=>{e.meal_set_list=null},setEditMealPre:(e,t)=>{e.edit_meal_pre=t.payload},resetEditMealPre:e=>{e.edit_meal_pre=null}}}),{setUsedFood:s,resetUsedFood:l,setEditMeal:o,resetEditMeal:i,setUsedFatSecretFood:a,resetUsedFatSecretFood:c,setSelectFoodList:u,resetSelectFoodList:d,setMealSetList:m,resetMealSetList:f,setEditMealPre:x,resetEditMealPre:h}=n.actions;t.ZP=n.reducer},8354:function(e,t,r){"use strict";r.d(t,{Qu:function(){return i},fz:function(){return o}});var n=r(9753);let s={message:"",type:"info"},l=(0,n.oM)({name:"toast",initialState:s,reducers:{setToast:(e,t)=>{e.message=t.payload.message,e.type=t.payload.type},resetToast:e=>{e.message=s.message,e.type=s.type}}}),{setToast:o,resetToast:i}=l.actions;t.ZP=l.reducer},4839:function(e,t,r){"use strict";t.Z=function(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n)}return s}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[9461,7123,2971,7023,1744],function(){return e(e.s=3669)}),_N_E=e.O()}]);