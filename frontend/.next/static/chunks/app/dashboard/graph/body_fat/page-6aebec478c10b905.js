(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3420],{1526:function(e,t,n){Promise.resolve().then(n.bind(n,6364))},6463:function(e,t,n){"use strict";var o=n(1169);n.o(o,"usePathname")&&n.d(t,{usePathname:function(){return o.usePathname}}),n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},8332:function(e,t,n){"use strict";n.d(t,{r:function(){return r},t:function(){return a}}),n(4590);var o=n(8064),r=(0,o.$)("1d98f534c6c8a434f48c92585dad47f0feda3c07"),a=(0,o.$)("9a93829e93d21532961a0fb04b019c91c4e3d4c8")},9044:function(e,t,n){"use strict";n.d(t,{V:function(){return o}}),n(4590);var o=(0,n(8064).$)("8d6ecfcbb4b8cd3c3de50d97fb3bd81f1b7d29ea")},6364:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var o=n(7437),r=n(2265),a=n(6463),s=n(4297),i=n(8354),l=n(8332),u=n(7346),d=n(5211),c=n(9752),f=n(5759);d.kL.register(...d.zX),d.kL.register(f.Z);var _=e=>{var t;let{data:n,period:r,goal:a}=e,s=(0,c.Q)(n,r),i=s.map(e=>e.body_fat).filter(e=>null!=e),l=null!==(t=null==a?void 0:a.goal_body_fat)&&void 0!==t?t:null,d={labels:s.map(e=>e.date),datasets:[{label:"Body Fat",data:s.map(e=>e.body_fat),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1,yAxisID:"y-bodyFat",spanGaps:!0}]},f=Math.max(0,Math.min(...i)-5),_=Math.max(...i)+5,m=f,g=_;"number"==typeof l&&(l<f?m=Math.max(0,l-3):l>_&&(g=l+3));let p={scales:{x:{type:"category",title:{display:!0,text:"Date"},ticks:{callback:function(e,t,n){let o=new Date(d.labels[t]),r=o.getUTCMonth()+1,a=o.getUTCDate();return"".concat(r,"/").concat(a)},color:"black"}},"y-bodyFat":{type:"linear",position:"left",title:{display:!0,text:"Body Fat (%)"},min:m,max:g}},plugins:{annotation:"number"==typeof l?{annotations:{line1:{type:"line",yMin:l,yMax:l,borderColor:"rgb(75, 192, 192)",borderWidth:2,label:{content:"Goal: ".concat(l,"%"),enabled:!0,position:"end",backgroundColor:"rgba(75, 192, 192, 0.2)",color:"rgb(75, 192, 192)"}}}}:void 0}};return(0,o.jsxs)("div",{className:"relative",children:[null!==l&&(0,o.jsxs)("div",{className:" w-full text-center text-gray-700 py-2 z-10",children:["Goal Body Fat: ",l," %"]}),(0,o.jsx)(u.x1,{data:d,options:p,height:300,className:"border",style:{backgroundColor:"rgba(245, 245, 220, 0.2)"}})]})},m=n(9044),g=()=>{(0,a.useRouter)();let e=(0,s.TL)(),[t,n]=(0,r.useState)([]),[u,d]=(0,r.useState)(null),[c,f]=(0,r.useState)("2weeks");return(0,r.useEffect)(()=>{(async()=>{try{let t=await (0,l.r)();if("error"in t){e((0,i.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,i.Qu)()),3e3);return}"message"in t&&n(t.data)}catch(e){}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{let t=await (0,m.V)();"error"in t?(e((0,i.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,i.Qu)()),3e3)):"message"in t&&d(t.data)}catch(t){e((0,i.fz)({message:"An error occurred while fetching Weight & Body Fat.",type:"error"})),setTimeout(()=>e((0,i.Qu)()),3e3)}})()},[]),(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md p-4 bg-white rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-center mb-4",children:"Body Fat Graph"}),(0,o.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,o.jsx)("div",{className:"flex items-center space-x-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{htmlFor:"period",className:"mr-2 text-gray-700 text-xs",children:"Display period:"}),(0,o.jsxs)("select",{id:"period",value:c,onChange:e=>{f(e.target.value)},className:"border border-gray-300 rounded-md px-2 py-1",children:[(0,o.jsx)("option",{value:"2weeks",children:"2 Weeks"}),(0,o.jsx)("option",{value:"1month",children:"1 Month"}),(0,o.jsx)("option",{value:"3months",children:"3 Months"}),(0,o.jsx)("option",{value:"6months",children:"6 Months"}),(0,o.jsx)("option",{value:"12months",children:"12 Months"}),(0,o.jsx)("option",{value:"24months",children:"24 Months"})]})]})})}),(0,o.jsx)(_,{data:t,period:c,goal:u})]})}},9752:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});let o=(e,t)=>{let n=[],o=new Date,r=new Date;switch(t){case"2weeks":default:r.setDate(o.getDate()-14);break;case"1month":r.setMonth(o.getMonth()-1);break;case"3months":r.setMonth(o.getMonth()-3);break;case"6months":r.setMonth(o.getMonth()-6);break;case"12months":r.setFullYear(o.getFullYear()-1);break;case"24months":r.setFullYear(o.getFullYear()-2)}let a=new Date(r);for(;a<=o;)n.push(new Date(a)),a.setDate(a.getDate()+1);return n},r=(e,t)=>{let n=o(e,t),r=new Map(e.map(e=>[e.date,e]));return n.map(e=>{let t=e.toISOString().slice(0,10);return r.get(t)||{date:t,weight:null,body_fat:null}})}},2808:function(e,t,n){"use strict";var o=n(7437),r=n(1444),a=n(4297);t.default=e=>{let{children:t}=e;return(0,o.jsx)(r.zt,{store:a.w_,children:t})}},4297:function(e,t,n){"use strict";n.d(t,{w_:function(){return p},TL:function(){return h},CG:function(){return y}});var o=n(1444),r=n(9753),a=n(8440),s=n(8354),i=n(4459),l=n(4646),u=n(5585);let d=(0,r.oM)({name:"food_meal",initialState:{date:null},reducers:{setDate:(e,t)=>{e.date=t.payload},resetDate:e=>{e.date=null}}}),{setDate:c,resetDate:f}=d.actions;var _=d.reducer,m=n(2072),g=n(2035);n(2808);let p=(0,r.xC)({reducer:{toast:s.ZP,auth:a.ZP,food_meal:i.ZP,load:l.ZP,workout_exercise:u.ZP,date:_,latest_weight:m.ZP,license:g.ZP}}),h=o.I0,y=o.v9},8440:function(e,t,n){"use strict";n.d(t,{Li:function(){return a},QV:function(){return r}});let o=(0,n(9753).oM)({name:"auth",initialState:{account:null},reducers:{setAuth:(e,t)=>{e.account={id:t.payload.id,nickname:t.payload.nickname,username:t.payload.username}},resetAuth:e=>{e.account=null}}}),{setAuth:r,resetAuth:a}=o.actions;t.ZP=o.reducer},5585:function(e,t,n){"use strict";n.d(t,{AW:function(){return d},Gt:function(){return a},H3:function(){return _},N8:function(){return r},QK:function(){return c},c0:function(){return l},mE:function(){return i},nY:function(){return s},nw:function(){return f},zO:function(){return u}});let o=(0,n(9753).oM)({name:"workout_exercise",initialState:{used_workout:null,edit_exercise:null,select_workout_list:null,exercise_set_list:null,edit_exercise_pre:null},reducers:{setUsedWorkout:(e,t)=>{e.used_workout=t.payload},resetUsedWorkout:e=>{e.used_workout=null},setEditExercise:(e,t)=>{e.edit_exercise=t.payload},resetEditExercise:e=>{e.edit_exercise=null},setSelectWorkoutList:(e,t)=>{e.select_workout_list=t.payload},resetSelectWorkoutList:e=>{e.select_workout_list=null},setExerciseSetList:(e,t)=>{e.exercise_set_list=t.payload},resetExerciseSetList:e=>{e.exercise_set_list=null},setEditExercisePre:(e,t)=>{e.edit_exercise_pre=t.payload},resetEditExercisePre:e=>{e.edit_exercise_pre=null}}}),{setUsedWorkout:r,resetUsedWorkout:a,setEditExercise:s,resetEditExercise:i,setSelectWorkoutList:l,resetSelectWorkoutList:u,setExerciseSetList:d,resetExerciseSetList:c,setEditExercisePre:f,resetEditExercisePre:_}=o.actions;t.ZP=o.reducer},2072:function(e,t,n){"use strict";n.d(t,{HW:function(){return r}});let o=(0,n(9753).oM)({name:"latest_weight",initialState:{latest_weight:null},reducers:{setLatestWeight:(e,t)=>{e.latest_weight=t.payload},resetLatestweight:e=>{e.latest_weight=null}}}),{setLatestWeight:r,resetLatestweight:a}=o.actions;t.ZP=o.reducer},2035:function(e,t,n){"use strict";n.d(t,{BE:function(){return r}});let o=(0,n(9753).oM)({name:"license",initialState:{license:null},reducers:{setLicense:(e,t)=>{e.license=t.payload},resetLicense:e=>{e.license=null}}}),{setLicense:r,resetLicense:a}=o.actions;t.ZP=o.reducer},4646:function(e,t,n){"use strict";n.d(t,{Dv:function(){return _},OV:function(){return u},RO:function(){return f},Tr:function(){return r},ex:function(){return l},lc:function(){return d},ly:function(){return i},mH:function(){return c},wO:function(){return a},yP:function(){return s}});let o=(0,n(9753).oM)({name:"loading",initialState:{meal_loading:!1,often_food_loading:!1,history_food_loading:!1,custom_food_loading:!1,exercise_loading:!1,history_workout_loading:!1,custom_workout_loading:!1,often_workout_loading:!1,monster_loading:!1,set_loading:!1},reducers:{setMealLoading:(e,t)=>{e.meal_loading=t.payload},setOftenFoodLoading:(e,t)=>{e.often_food_loading=t.payload},setHistoryFoodLoading:(e,t)=>{e.history_food_loading=t.payload},setCustomFoodLoading:(e,t)=>{e.custom_food_loading=t.payload},setExerciseLoading:(e,t)=>{e.exercise_loading=t.payload},setHistoryWorkoutLoading:(e,t)=>{e.history_workout_loading=t.payload},setCustomWorkoutLoading:(e,t)=>{e.custom_workout_loading=t.payload},setOftenWorkoutLoading:(e,t)=>{e.often_workout_loading=t.payload},setMonsterLoading:(e,t)=>{e.monster_loading=t.payload},setSetLoading:(e,t)=>{e.set_loading=t.payload}}}),{setMealLoading:r,setOftenFoodLoading:a,setHistoryFoodLoading:s,setCustomFoodLoading:i,setExerciseLoading:l,setCustomWorkoutLoading:u,setHistoryWorkoutLoading:d,setOftenWorkoutLoading:c,setMonsterLoading:f,setSetLoading:_}=o.actions;t.ZP=o.reducer},4459:function(e,t,n){"use strict";n.d(t,{Fe:function(){return a},GA:function(){return s},Go:function(){return m},Jo:function(){return g},RR:function(){return d},Td:function(){return f},Xl:function(){return i},bI:function(){return _},km:function(){return l},wc:function(){return c},x9:function(){return r},zo:function(){return u}});let o=(0,n(9753).oM)({name:"food_meal",initialState:{used_food:null,edit_meal:null,used_fatsecret_food:null,select_food_list:null,meal_set_list:null,edit_meal_pre:null},reducers:{setUsedFood:(e,t)=>{e.used_food=t.payload},resetUsedFood:e=>{e.used_food=null},setEditMeal:(e,t)=>{e.edit_meal=t.payload},resetEditMeal:e=>{e.edit_meal=null},setUsedFatSecretFood:(e,t)=>{e.used_fatsecret_food=t.payload},resetUsedFatSecretFood:e=>{e.used_fatsecret_food=null},setSelectFoodList:(e,t)=>{e.select_food_list=t.payload},resetSelectFoodList:e=>{e.select_food_list=null},setMealSetList:(e,t)=>{e.meal_set_list=t.payload},resetMealSetList:e=>{e.meal_set_list=null},setEditMealPre:(e,t)=>{e.edit_meal_pre=t.payload},resetEditMealPre:e=>{e.edit_meal_pre=null}}}),{setUsedFood:r,resetUsedFood:a,setEditMeal:s,resetEditMeal:i,setUsedFatSecretFood:l,resetUsedFatSecretFood:u,setSelectFoodList:d,resetSelectFoodList:c,setMealSetList:f,resetMealSetList:_,setEditMealPre:m,resetEditMealPre:g}=o.actions;t.ZP=o.reducer},8354:function(e,t,n){"use strict";n.d(t,{Qu:function(){return i},fz:function(){return s}});var o=n(9753);let r={message:"",type:"info"},a=(0,o.oM)({name:"toast",initialState:r,reducers:{setToast:(e,t)=>{e.message=t.payload.message,e.type=t.payload.type},resetToast:e=>{e.message=r.message,e.type=r.type}}}),{setToast:s,resetToast:i}=a.actions;t.ZP=a.reducer}},function(e){e.O(0,[7674,7123,5329,5759,2971,7023,1744],function(){return e(e.s=1526)}),_N_E=e.O()}]);