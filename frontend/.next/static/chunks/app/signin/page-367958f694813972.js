(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4281],{1304:function(e,t,s){Promise.resolve().then(s.bind(s,2174)),Promise.resolve().then(s.bind(s,3595))},2174:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var r=s(7437);s(2265);var n=s(8735),o=s(4297),i=s(8354),a=s(8440),l=s(6463),u=s(2857),d=()=>{let e=(0,l.useRouter)(),t=(0,o.TL)(),s=async s=>{let r=s.credential;try{let s=await fetch("/api/google-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_token:r})}),n=await s.json();if(200!==s.status){t((0,i.fz)({message:n.error,type:"error"})),setTimeout(()=>t((0,i.Qu)()),3e3);return}"message"in n&&(t((0,i.fz)({message:n.message,type:"success"})),t((0,a.QV)(n.account)),e.push("/dashboard"))}catch(e){t((0,i.fz)({message:"Something error happend. Please try ageain.",type:"error"})),setTimeout(()=>t((0,i.Qu)()),3e3)}};return(0,r.jsx)(n.rg,{clientId:"990098268270-qu8llv8qmu44i9fpne01u2ugj8fg4j5r.apps.googleusercontent.com",children:(0,r.jsxs)("div",{className:"flex justify-center items-center w-full my-10",children:[(0,r.jsxs)("button",{className:"px-4 flex items-center justify-center w-full py-4 bg-white border border-gray-300 rounded-lg hover:bg-gray-100",onClick:()=>{let e=document.querySelector('div[role="button"]');e&&e.click()},children:[(0,r.jsx)(u.JM8,{className:"text-2xl mr-3"}),(0,r.jsx)("span",{className:"text-lg text-gray-700 font-medium mx-2 px-2",children:"Sign in with Google"})]}),(0,r.jsx)("div",{style:{display:"none"},children:(0,r.jsx)(n.kZ,{onSuccess:s,onError:()=>{t((0,i.fz)({message:"Google Signin Error . Please try again.",type:"error"})),setTimeout(()=>t((0,i.Qu)()),3e3)},theme:"outline",size:"large",shape:"rectangular",text:"signin_with"})})]})})}},3595:function(e,t,s){"use strict";s.d(t,{LoginForm:function(){return x}});var r=s(7437),n=s(2265),o=s(6463),i=s(9381),a=s(7138),l=s(4245),u=s(1942),d=s(4297),c=s(8354),m=s(8440),f=s(4839);let g=l.Ry().shape({username:l.Z_().email("Invalid email format!").required("Email is required!"),password:l.Z_().required("Password is required !")}),p={username:"",password:""};function x(){let e=(0,o.useRouter)(),t=(0,d.TL)(),s=(0,i.TA)({initialValues:p,validationSchema:g,onSubmit:async r=>{let n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await n.json();if(200!==n.status){t((0,c.fz)({message:o.error,type:"error"})),setTimeout(()=>t((0,c.Qu)()),3e3);return}"message"in o&&(t((0,c.fz)({message:o.message,type:"success"})),t((0,m.QV)(o.account)),s.resetForm(),e.push("/dashboard"))}}),[l,x]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"flex flex-col justify-center px-6 lg:px-8 ",children:[(0,r.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:(0,r.jsx)("h1",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign In"})}),(0,r.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:s.handleSubmit,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("input",{id:"username",name:"username",type:"email",autoComplete:"off",value:s.values.username,onChange:s.handleChange,onBlur:s.handleBlur,className:(0,f.Z)("block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":s.touched.username&&s.errors.username})}),s.errors.username&&s.touched.username&&(0,r.jsx)("p",{className:"text-red-500 ml-1 my-3",children:s.errors.username})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("section",{className:"flex items-center gap-3 relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:l?"text":"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,className:(0,f.Z)("block w-full rounded-md border-0 py-1.5 text-gray-500 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 pl-2",{"border-2 border-red-500 bg-red-100 text-red-800":s.touched.password&&s.errors.password})}),(0,r.jsx)("div",{className:(0,f.Z)("text-gray-300 absolute right-2 cursor-pointer",{"text-blue-800":l}),children:l?(0,r.jsx)(u.dSq,{size:25,onClick:()=>x(e=>!e)}):(0,r.jsx)(u.tgn,{size:25,onClick:()=>x(e=>!e)})})]}),s.errors.password&&s.touched.password&&(0,r.jsx)("p",{className:"text-red-500 ml-1 my-3",children:s.errors.password})]})]}),(0,r.jsxs)("section",{className:"flex flex-col lg:flex-row gap-y-3 lg:gap-y-0 justify-between items-end lg:items-center lg:justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 order-2 lg:order-1",children:[(0,r.jsx)("span",{className:"mr-2",children:"Not a member?"}),(0,r.jsx)(a.default,{href:"/signup",className:"text-blue-700 hover:text-blue-500",children:"Sign Up"})]}),(0,r.jsx)("button",{type:"submit",className:"flex w-full order-1 lg:order-2 lg:w-fit justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"sign in"})]})]})})]})}},2808:function(e,t,s){"use strict";var r=s(7437),n=s(1444),o=s(4297);t.default=e=>{let{children:t}=e;return(0,r.jsx)(n.zt,{store:o.w_,children:t})}},4297:function(e,t,s){"use strict";s.d(t,{w_:function(){return x},TL:function(){return _},CG:function(){return y}});var r=s(1444),n=s(9753),o=s(8440),i=s(8354),a=s(4459),l=s(4646),u=s(5585);let d=(0,n.oM)({name:"food_meal",initialState:{date:null},reducers:{setDate:(e,t)=>{e.date=t.payload},resetDate:e=>{e.date=null}}}),{setDate:c,resetDate:m}=d.actions;var f=d.reducer,g=s(2072),p=s(2035);s(2808);let x=(0,n.xC)({reducer:{toast:i.ZP,auth:o.ZP,food_meal:a.ZP,load:l.ZP,workout_exercise:u.ZP,date:f,latest_weight:g.ZP,license:p.ZP}}),_=r.I0,y=r.v9},8440:function(e,t,s){"use strict";s.d(t,{Li:function(){return o},QV:function(){return n}});let r=(0,s(9753).oM)({name:"auth",initialState:{account:null},reducers:{setAuth:(e,t)=>{e.account={id:t.payload.id,nickname:t.payload.nickname,username:t.payload.username}},resetAuth:e=>{e.account=null}}}),{setAuth:n,resetAuth:o}=r.actions;t.ZP=r.reducer},5585:function(e,t,s){"use strict";s.d(t,{Gt:function(){return o},N8:function(){return n},QK:function(){return c},c0:function(){return l},mE:function(){return a},nY:function(){return i}});let r=(0,s(9753).oM)({name:"workout_exercise",initialState:{used_workout:null,edit_exercise:null,select_workout_list:null,exercise_set_list:null,edit_exercise_pre:null},reducers:{setUsedWorkout:(e,t)=>{e.used_workout=t.payload},resetUsedWorkout:e=>{e.used_workout=null},setEditExercise:(e,t)=>{e.edit_exercise=t.payload},resetEditExercise:e=>{e.edit_exercise=null},setSelectWorkoutList:(e,t)=>{e.select_workout_list=t.payload},resetSelectWorkoutList:e=>{e.select_workout_list=null},setExerciseSetList:(e,t)=>{e.exercise_set_list=t.payload},resetExerciseSetList:e=>{e.exercise_set_list=null},setEditExercisePre:(e,t)=>{e.edit_exercise_pre=t.payload},resetEditExercisePre:e=>{e.edit_exercise_pre=null}}}),{setUsedWorkout:n,resetUsedWorkout:o,setEditExercise:i,resetEditExercise:a,setSelectWorkoutList:l,resetSelectWorkoutList:u,setExerciseSetList:d,resetExerciseSetList:c,setEditExercisePre:m,resetEditExercisePre:f}=r.actions;t.ZP=r.reducer},2072:function(e,t,s){"use strict";s.d(t,{HW:function(){return n}});let r=(0,s(9753).oM)({name:"latest_weight",initialState:{latest_weight:null},reducers:{setLatestWeight:(e,t)=>{e.latest_weight=t.payload},resetLatestweight:e=>{e.latest_weight=null}}}),{setLatestWeight:n,resetLatestweight:o}=r.actions;t.ZP=r.reducer},2035:function(e,t,s){"use strict";s.d(t,{BE:function(){return n}});let r=(0,s(9753).oM)({name:"license",initialState:{license:null},reducers:{setLicense:(e,t)=>{e.license=t.payload},resetLicense:e=>{e.license=null}}}),{setLicense:n,resetLicense:o}=r.actions;t.ZP=r.reducer},4646:function(e,t,s){"use strict";s.d(t,{Dv:function(){return f},OV:function(){return u},RO:function(){return m},Tr:function(){return n},ex:function(){return l},lc:function(){return d},ly:function(){return a},yP:function(){return i}});let r=(0,s(9753).oM)({name:"loading",initialState:{meal_loading:!1,often_food_loading:!1,history_food_loading:!1,custom_food_loading:!1,exercise_loading:!1,history_workout_loading:!1,custom_workout_loading:!1,often_workout_loading:!1,monster_loading:!1,set_loading:!1},reducers:{setMealLoading:(e,t)=>{e.meal_loading=t.payload},setOftenFoodLoading:(e,t)=>{e.often_food_loading=t.payload},setHistoryFoodLoading:(e,t)=>{e.history_food_loading=t.payload},setCustomFoodLoading:(e,t)=>{e.custom_food_loading=t.payload},setExerciseLoading:(e,t)=>{e.exercise_loading=t.payload},setHistoryWorkoutLoading:(e,t)=>{e.history_workout_loading=t.payload},setCustomWorkoutLoading:(e,t)=>{e.custom_workout_loading=t.payload},setOftenWorkoutLoading:(e,t)=>{e.often_workout_loading=t.payload},setMonsterLoading:(e,t)=>{e.monster_loading=t.payload},setSetLoading:(e,t)=>{e.set_loading=t.payload}}}),{setMealLoading:n,setOftenFoodLoading:o,setHistoryFoodLoading:i,setCustomFoodLoading:a,setExerciseLoading:l,setCustomWorkoutLoading:u,setHistoryWorkoutLoading:d,setOftenWorkoutLoading:c,setMonsterLoading:m,setSetLoading:f}=r.actions;t.ZP=r.reducer},4459:function(e,t,s){"use strict";s.d(t,{Fe:function(){return o},GA:function(){return i},RR:function(){return d},Xl:function(){return a},bI:function(){return f},km:function(){return l},x9:function(){return n},zo:function(){return u}});let r=(0,s(9753).oM)({name:"food_meal",initialState:{used_food:null,edit_meal:null,used_fatsecret_food:null,select_food_list:null,meal_set_list:null,edit_meal_pre:null},reducers:{setUsedFood:(e,t)=>{e.used_food=t.payload},resetUsedFood:e=>{e.used_food=null},setEditMeal:(e,t)=>{e.edit_meal=t.payload},resetEditMeal:e=>{e.edit_meal=null},setUsedFatSecretFood:(e,t)=>{e.used_fatsecret_food=t.payload},resetUsedFatSecretFood:e=>{e.used_fatsecret_food=null},setSelectFoodList:(e,t)=>{e.select_food_list=t.payload},resetSelectFoodList:e=>{e.select_food_list=null},setMealSetList:(e,t)=>{e.meal_set_list=t.payload},resetMealSetList:e=>{e.meal_set_list=null},setEditMealPre:(e,t)=>{e.edit_meal_pre=t.payload},resetEditMealPre:e=>{e.edit_meal_pre=null}}}),{setUsedFood:n,resetUsedFood:o,setEditMeal:i,resetEditMeal:a,setUsedFatSecretFood:l,resetUsedFatSecretFood:u,setSelectFoodList:d,resetSelectFoodList:c,setMealSetList:m,resetMealSetList:f,setEditMealPre:g,resetEditMealPre:p}=r.actions;t.ZP=r.reducer},8354:function(e,t,s){"use strict";s.d(t,{Qu:function(){return a},fz:function(){return i}});var r=s(9753);let n={message:"",type:"info"},o=(0,r.oM)({name:"toast",initialState:n,reducers:{setToast:(e,t)=>{e.message=t.payload.message,e.type=t.payload.type},resetToast:e=>{e.message=n.message,e.type=n.type}}}),{setToast:i,resetToast:a}=o.actions;t.ZP=o.reducer}},function(e){e.O(0,[7699,680,7123,4349,231,5662,2971,7023,1744],function(){return e(e.s=1304)}),_N_E=e.O()}]);