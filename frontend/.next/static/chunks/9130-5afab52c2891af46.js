"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9130],{9130:function(e,t,n){n.d(t,{default:function(){return h}});var o=n(7437),a=n(2265),l=n(6463),s=n(4297),r=n(8354),i=n(8332),u=n(7346),d=n(5211),c=n(9752),f=n(5759);d.kL.register(f.Z),d.kL.register(...d.zX);let _=(e,t)=>null===e?null:"lbs"===t?parseFloat((2.20462*e).toFixed(0)):e;var m=e=>{var t,n;let{data:a=[],period:l,goal:s,unit:r}=e,i=(0,c.Q)(a,l),d=i.map(e=>_(e.weight,r)).filter(e=>null!=e),f=null!==(n=null==s?void 0:s.goal_weight)&&void 0!==n?n:null,m={labels:i.map(e=>e.date),datasets:[{label:"Weight",data:i.map(e=>_(e.weight,r)),fill:!1,borderColor:"rgb(255, 99, 132)",tension:.1,yAxisID:"y-weight",spanGaps:!0}]},g=Math.max(0,Math.min(...d)-20),h=Math.max(...d)+20,p=g,y=h;"number"==typeof f&&(_(f,r)<g?p=Math.max(0,_(f,r)-10):_(f,r)>h&&(y=_(f,r)+10));let x={scales:{x:{type:"category",title:{display:!0,text:"Date"},ticks:{callback:function(e,t,n){let o=new Date(m.labels[t]),a=o.getUTCMonth()+1,l=o.getUTCDate();return"".concat(a,"/").concat(l)},color:"black"}},"y-weight":{type:"linear",position:"left",title:{display:!0,text:"Weight (".concat(r,")")},min:p,max:y}},plugins:{annotation:"number"==typeof f?{annotations:{line1:{type:"line",yMin:_(f,r),yMax:_(f,r),borderColor:"rgba(255, 0, 0, 0.5)",borderWidth:2}}}:void 0}};return(0,o.jsxs)("div",{className:"relative",children:[null!==f&&(0,o.jsxs)("div",{className:" w-full text-center text-gray-700 py-2 z-10",children:["Goal Weight: ",null===(t=_(f,r))||void 0===t?void 0:t.toFixed(1)," ",r]}),(0,o.jsx)(u.x1,{data:m,options:x,height:300,className:"border",style:{backgroundColor:"rgba(245, 245, 220, 0.2)"}})]})},g=n(9044),h=()=>{(0,l.useRouter)();let e=(0,s.TL)(),[t,n]=(0,a.useState)([]),[u,d]=(0,a.useState)(null),[c,f]=(0,a.useState)("2weeks"),[_,h]=(0,a.useState)("lbs");return(0,a.useEffect)(()=>{(async()=>{try{let t=await (0,i.r)();if("error"in t){e((0,r.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,r.Qu)()),3e3);return}"message"in t&&n(t.data)}catch(e){}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{let t=await (0,g.V)();"error"in t?(e((0,r.fz)({message:t.error,type:"error"})),setTimeout(()=>e((0,r.Qu)()),3e3)):"message"in t&&d(t.data)}catch(t){e((0,r.fz)({message:"An error occurred while fetching Weight & Body Fat.",type:"error"})),setTimeout(()=>e((0,r.Qu)()),3e3)}})()},[]),(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md p-4 bg-white rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-lg font-bold text-center mb-4",children:"Weight Transition Graph"}),(0,o.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,o.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{htmlFor:"period",className:"mr-2 text-gray-700 text-xs",children:"Display period:"}),(0,o.jsxs)("select",{id:"period",value:c,onChange:e=>{f(e.target.value)},className:"border border-gray-300 rounded-md px-2 py-1",children:[(0,o.jsx)("option",{value:"2weeks",children:"2 Weeks"}),(0,o.jsx)("option",{value:"1month",children:"1 Month"}),(0,o.jsx)("option",{value:"3months",children:"3 Months"}),(0,o.jsx)("option",{value:"6months",children:"6 Months"}),(0,o.jsx)("option",{value:"12months",children:"12 Months"}),(0,o.jsx)("option",{value:"24months",children:"24 Months"})]})]}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("button",{onClick:()=>{h(e=>"kg"===e?"lbs":"kg")},className:"text-xs px-2 py-1 bg-gray-300 text-gray-700 rounded-md shadow-md hover:bg-gray-400",children:"kg"===_?"Show in lbs":"Show in kg"})})]})}),(0,o.jsx)(m,{data:t,period:c,goal:u,unit:_})]})}},9752:function(e,t,n){n.d(t,{Q:function(){return a}});let o=(e,t)=>{let n=[],o=new Date,a=new Date;switch(t){case"2weeks":default:a.setDate(o.getDate()-14);break;case"1month":a.setMonth(o.getMonth()-1);break;case"3months":a.setMonth(o.getMonth()-3);break;case"6months":a.setMonth(o.getMonth()-6);break;case"12months":a.setFullYear(o.getFullYear()-1);break;case"24months":a.setFullYear(o.getFullYear()-2)}let l=new Date(a);for(;l<=o;)n.push(new Date(l)),l.setDate(l.getDate()+1);return n},a=(e,t)=>{let n=o(e,t),a=new Map(e.map(e=>[e.date,e]));return n.map(e=>{let t=e.toISOString().slice(0,10);return a.get(t)||{date:t,weight:null,body_fat:null}})}},2808:function(e,t,n){var o=n(7437),a=n(1444),l=n(4297);t.default=e=>{let{children:t}=e;return(0,o.jsx)(a.zt,{store:l.w_,children:t})}},4297:function(e,t,n){n.d(t,{w_:function(){return h},TL:function(){return p},CG:function(){return y}});var o=n(1444),a=n(9753),l=n(8440),s=n(8354),r=n(4459),i=n(4646),u=n(5585);let d=(0,a.oM)({name:"food_meal",initialState:{date:null},reducers:{setDate:(e,t)=>{e.date=t.payload},resetDate:e=>{e.date=null}}}),{setDate:c,resetDate:f}=d.actions;var _=d.reducer,m=n(2072),g=n(2035);n(2808);let h=(0,a.xC)({reducer:{toast:s.ZP,auth:l.ZP,food_meal:r.ZP,load:i.ZP,workout_exercise:u.ZP,date:_,latest_weight:m.ZP,license:g.ZP}}),p=o.I0,y=o.v9},8440:function(e,t,n){n.d(t,{Li:function(){return l},QV:function(){return a}});let o=(0,n(9753).oM)({name:"auth",initialState:{account:null},reducers:{setAuth:(e,t)=>{e.account={id:t.payload.id,nickname:t.payload.nickname,username:t.payload.username}},resetAuth:e=>{e.account=null}}}),{setAuth:a,resetAuth:l}=o.actions;t.ZP=o.reducer},5585:function(e,t,n){n.d(t,{Gt:function(){return l},N8:function(){return a},QK:function(){return c},c0:function(){return i},mE:function(){return r},nY:function(){return s}});let o=(0,n(9753).oM)({name:"workout_exercise",initialState:{used_workout:null,edit_exercise:null,select_workout_list:null,exercise_set_list:null,edit_exercise_pre:null},reducers:{setUsedWorkout:(e,t)=>{e.used_workout=t.payload},resetUsedWorkout:e=>{e.used_workout=null},setEditExercise:(e,t)=>{e.edit_exercise=t.payload},resetEditExercise:e=>{e.edit_exercise=null},setSelectWorkoutList:(e,t)=>{e.select_workout_list=t.payload},resetSelectWorkoutList:e=>{e.select_workout_list=null},setExerciseSetList:(e,t)=>{e.exercise_set_list=t.payload},resetExerciseSetList:e=>{e.exercise_set_list=null},setEditExercisePre:(e,t)=>{e.edit_exercise_pre=t.payload},resetEditExercisePre:e=>{e.edit_exercise_pre=null}}}),{setUsedWorkout:a,resetUsedWorkout:l,setEditExercise:s,resetEditExercise:r,setSelectWorkoutList:i,resetSelectWorkoutList:u,setExerciseSetList:d,resetExerciseSetList:c,setEditExercisePre:f,resetEditExercisePre:_}=o.actions;t.ZP=o.reducer},2072:function(e,t,n){n.d(t,{HW:function(){return a}});let o=(0,n(9753).oM)({name:"latest_weight",initialState:{latest_weight:null},reducers:{setLatestWeight:(e,t)=>{e.latest_weight=t.payload},resetLatestweight:e=>{e.latest_weight=null}}}),{setLatestWeight:a,resetLatestweight:l}=o.actions;t.ZP=o.reducer},2035:function(e,t,n){n.d(t,{BE:function(){return a}});let o=(0,n(9753).oM)({name:"license",initialState:{license:null},reducers:{setLicense:(e,t)=>{e.license=t.payload},resetLicense:e=>{e.license=null}}}),{setLicense:a,resetLicense:l}=o.actions;t.ZP=o.reducer},4646:function(e,t,n){n.d(t,{Dv:function(){return _},OV:function(){return u},RO:function(){return f},Tr:function(){return a},ex:function(){return i},lc:function(){return d},ly:function(){return r},yP:function(){return s}});let o=(0,n(9753).oM)({name:"loading",initialState:{meal_loading:!1,often_food_loading:!1,history_food_loading:!1,custom_food_loading:!1,exercise_loading:!1,history_workout_loading:!1,custom_workout_loading:!1,often_workout_loading:!1,monster_loading:!1,set_loading:!1},reducers:{setMealLoading:(e,t)=>{e.meal_loading=t.payload},setOftenFoodLoading:(e,t)=>{e.often_food_loading=t.payload},setHistoryFoodLoading:(e,t)=>{e.history_food_loading=t.payload},setCustomFoodLoading:(e,t)=>{e.custom_food_loading=t.payload},setExerciseLoading:(e,t)=>{e.exercise_loading=t.payload},setHistoryWorkoutLoading:(e,t)=>{e.history_workout_loading=t.payload},setCustomWorkoutLoading:(e,t)=>{e.custom_workout_loading=t.payload},setOftenWorkoutLoading:(e,t)=>{e.often_workout_loading=t.payload},setMonsterLoading:(e,t)=>{e.monster_loading=t.payload},setSetLoading:(e,t)=>{e.set_loading=t.payload}}}),{setMealLoading:a,setOftenFoodLoading:l,setHistoryFoodLoading:s,setCustomFoodLoading:r,setExerciseLoading:i,setCustomWorkoutLoading:u,setHistoryWorkoutLoading:d,setOftenWorkoutLoading:c,setMonsterLoading:f,setSetLoading:_}=o.actions;t.ZP=o.reducer},4459:function(e,t,n){n.d(t,{Fe:function(){return l},GA:function(){return s},RR:function(){return d},Xl:function(){return r},bI:function(){return _},km:function(){return i},x9:function(){return a},zo:function(){return u}});let o=(0,n(9753).oM)({name:"food_meal",initialState:{used_food:null,edit_meal:null,used_fatsecret_food:null,select_food_list:null,meal_set_list:null,edit_meal_pre:null},reducers:{setUsedFood:(e,t)=>{e.used_food=t.payload},resetUsedFood:e=>{e.used_food=null},setEditMeal:(e,t)=>{e.edit_meal=t.payload},resetEditMeal:e=>{e.edit_meal=null},setUsedFatSecretFood:(e,t)=>{e.used_fatsecret_food=t.payload},resetUsedFatSecretFood:e=>{e.used_fatsecret_food=null},setSelectFoodList:(e,t)=>{e.select_food_list=t.payload},resetSelectFoodList:e=>{e.select_food_list=null},setMealSetList:(e,t)=>{e.meal_set_list=t.payload},resetMealSetList:e=>{e.meal_set_list=null},setEditMealPre:(e,t)=>{e.edit_meal_pre=t.payload},resetEditMealPre:e=>{e.edit_meal_pre=null}}}),{setUsedFood:a,resetUsedFood:l,setEditMeal:s,resetEditMeal:r,setUsedFatSecretFood:i,resetUsedFatSecretFood:u,setSelectFoodList:d,resetSelectFoodList:c,setMealSetList:f,resetMealSetList:_,setEditMealPre:m,resetEditMealPre:g}=o.actions;t.ZP=o.reducer},8354:function(e,t,n){n.d(t,{Qu:function(){return r},fz:function(){return s}});var o=n(9753);let a={message:"",type:"info"},l=(0,o.oM)({name:"toast",initialState:a,reducers:{setToast:(e,t)=>{e.message=t.payload.message,e.type=t.payload.type},resetToast:e=>{e.message=a.message,e.type=a.type}}}),{setToast:s,resetToast:r}=l.actions;t.ZP=l.reducer}}]);